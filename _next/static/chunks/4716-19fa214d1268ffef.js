"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4716],{76388:function(e,n,t){t.d(n,{G:function(){return a},u:function(){return i}});var i=function(e){var n,t=0;for(n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t);var i="#";for(n=0;n<3;n+=1){var a=t>>8*n&255;i+="00".concat(a.toString(16)).slice(-2)}return i},a=function(e){var n,t,a=e.split(" "),o=(null==a?void 0:null===(n=a[0])||void 0===n?void 0:n[0])||"",r=(null==a?void 0:null===(t=a[1])||void 0===t?void 0:t[0])||"";return{sx:{bgcolor:i(e)},children:"".concat(o).concat(r)}}},24716:function(e,n,t){t.d(n,{Z:function(){return nC}});var i=t(7297),a=t(85893),o=t(10367),r=t(5616),s=t(22430),d=t(61730),c=t(98700),l=t(74944),h=t(48569),u=t(15879),p=t(26042),f=t(69396),v=t(67294),m=t(41664),b=t.n(m),x=t(6812),g=t(77533),Z=t(98619),w=t(15861),C=t(69661),j=t(90948),y=t(51233),P=t(93946),k=t(326),I=t(97372),S=t(61896),M=t(25213),_=t(73752),N=t(39646),L=t(11214),A=t(86510),D=t(69308),F=t(94229),R=t(76638),T=function(e){var n=[];return e.forEach(function(e){if(!e.hide){if(e.children){var t=T(e.children);t.length&&n.push((0,f.Z)((0,p.Z)({},e),{children:t}))}else n.push(e)}}),n},Q=function(e){var n=e.hasSageIntegration,t=e.hasXeroIntegration,i=e.hasAssetModule,a=e.hasWorkflows,o=e.hasDataReports,r=e.hasDataCharts,s=e.isMobile;return T([{id:"navCreateJob",type:"actionButton",title:"Create work order",href:"/dashboard/issues/manage",icon:S.Z},{id:"navDashboardDrop",href:"/dashboard",icon:R.Z,title:"Dashboard",children:[{id:"navDashboard",title:"Dashboard",href:"/dashboard"},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot"},{id:"navTasks",title:"Tasks",href:"/dashboard/tasks"}]},{id:"navWorkOrders",href:"/dashboard",icon:M.Z,title:"Work Orders",children:[{id:"navReactive",title:"Reactive",href:"/dashboard/issues"},{id:"navReactiveCreate",title:"Create Reactive",href:"/dashboard/issues/manage"},{id:"navQuote",title:"Quotes",href:"/dashboard/quotes"},{id:"navQuoteCreate",title:"Create Quote",href:"/dashboard/issues/manage?quoted=1"},{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navCustomersDrop",href:"/dashboard",title:"Customers",icon:_.Z,children:[{id:"navCustomers",title:"List",href:"/dashboard/customers"},{id:"navCustomersCreate",title:"Create",href:"/dashboard/customers/manage"}]},{id:"navLocationsDrop",href:"/dashboard",title:"Locations",icon:D.Z,children:[{id:"navLocations",title:"List",href:"/dashboard/properties"},{hide:!i,id:"navAssets",title:"Assets",href:"/dashboard/assets"}]},{id:"navSuppliersDrop",href:"/dashboard",title:"Suppliers",icon:N.Z,children:[{id:"navSuppliers",title:"List",href:"/dashboard/suppliers"},{id:"navSuppliersCreate",title:"Create",href:"/dashboard/suppliers/create"}]},{id:"navAutomations",href:"/dashboard",title:"Automation",icon:L.Z,children:[{id:"navEvents",title:"Events",href:"/dashboard/communications"},{hide:!a||s,id:"navWorkflowsFind",title:"Workflows",href:"/dashboard/workflows"}]},{id:"navData",href:"/dashboard",title:"Data",icon:A.Z,children:[{id:"navDataBusiness",title:"Charts",hide:!r,href:"/dashboard/data/business"},{id:"navDataFinancial",title:"Financial",href:"/dashboard/data/financial"},{id:"navFinancialReports",title:"Reports",hide:!o,href:"/dashboard/data/reports"},{hide:!n,id:"navPostAccounts",title:"Post Accounts",href:"/dashboard/data/postAccounts"},{hide:!t,id:"navXeroInvoices",title:"Xero",href:"/dashboard/data/xero"},]},{id:"navAccount",icon:F.Z,href:"/dashboard",title:"System settings",children:[{id:"navSettings",title:"System Settings",href:"/dashboard/settings/settings"},{id:"navAccount",title:"Company",href:"/dashboard/admins/view"},{id:"navAccounts",title:"Accounts",href:"/dashboard/account"},{id:"navUsers",title:"Users",href:"/dashboard/users"},{id:"navMedia",title:"Media",href:"/dashboard/media"},{id:"navServices",title:"Services",href:"/dashboard/services"},{id:"navCoverage",title:"Coverage",href:"/dashboard/coverage"},{id:"navSlas",title:"SLAs",href:"/dashboard/slas"},{id:"navCategories",title:"Categories",href:"/dashboard/taxonomy"},{id:"navAPI",title:"API",href:"/dashboard/api"}]}])},z=t(53767),B=t(53147),H=t(95486),J=t(15771),W=function(e){e.isCustomerOwner,e.isCustomerManager;var n=e.isCustomerUser,t=e.hasQuotesModule,i=e.hasPPMscheduleModule;return T([{id:"navCreateJob",type:"actionButton",title:"Create work order",href:"/dashboard/issues/manage",icon:S.Z},{id:"navHomeMenu",title:"Dashboard",href:"/dashboard",icon:R.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:B.Z},{id:"navWorksMenu",title:"Reactive works",icon:M.Z,children:[{id:"navCurrentJobs",title:"Current Jobs",href:"/dashboard/issues?show=current"},{id:"navWorkOrdersCreate",title:"Create Job",href:"/dashboard/issues/manage"},{id:"navJobHistory",title:"Job History",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:J.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{hide:!i&&n,id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navQuotes",title:"Quotes",icon:H.Z,hide:!t&&n,children:[{id:"navQuote",title:"Find Quote",href:"/dashboard/quotes"}]},{id:"navLocations",title:"Locations",href:"/dashboard/properties",icon:D.Z},{id:"account",title:"Account",href:"/dashboard/customers/view",icon:F.Z}])},q=[{id:"navFinanceMenu",title:"Finance",children:[{id:"navDashboard",title:"Data",href:"/dashboard/finance"}]},{id:"navAccountsMenu",icon:"cog",title:"Accounts Menu",children:[{id:"navAccounts",title:"Accounts",href:"/dashboard/account"},{id:"navAdminsCreate",title:"Create Admin",href:"/dashboard/admins/manage"},{id:"navSettingsDivider",divider:!0},{id:"navLeads",title:"Leads",href:"/dashboard/leads"},{id:"navFinanceCalculator",title:"Finance Calculator",href:"/dashboard/finance/calculator"},{id:"navStepperWorkflow",title:"Stepper Workflow",href:"/dashboard/stepper"}]}],E=[{id:"navHome",title:"Dashboard",href:"/dashboard",icon:R.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:B.Z},{id:"navInstructionsMenu",title:"Reactive works",icon:M.Z,children:[{id:"navJobOffers",title:"Current offers",href:"/dashboard/issues?show=offered"},{id:"navYourJobs",title:"Reactive jobs",href:"/dashboard/issues?show=current"},{id:"navJobHistory",title:"Job history",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:J.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"},{id:"NavPpmSchedules",title:"PPM Schedules",href:"/dashboard/scheduledjob"}]},{id:"navQuotes",title:"Quotes",icon:H.Z,children:[{id:"navQuote",title:"Find Quote",href:"/dashboard/quotes"}]},{id:"account",title:"Account",href:"/dashboard/suppliers/view",icon:F.Z}],O=function(e){var n=e.locationId,t=e.hasQuotesModule;return T([{id:"navDashboardDrop",title:"Dashboard",href:"/dashboard",icon:R.Z},{id:"navSnapshot",title:"Calendar",href:"/dashboard/snapshot",icon:B.Z},{id:"navWorksMenu",title:"Reactive works",icon:M.Z,children:[{id:"navCurrentJobs",title:"Current Jobs",href:"/dashboard/issues?show=current"},{id:"navJobHistory",title:"Job History",href:"/dashboard/issues?show=past"}]},{id:"navPPM",title:"Planned maintenance",icon:J.Z,children:[{id:"navPpm",title:"PPM",href:"/dashboard/issues?type=ppm"}]},{id:"navUserDropdown"},{id:"navQuotes",title:"Quotes",href:"/dashboard/quotes",icon:H.Z,hide:!t},{id:"navLocation",title:"Location",href:"/dashboard/properties/view?id=".concat(n,"&tab=details"),icon:D.Z},{id:"account",title:"Account",href:"/dashboard/tenant/view",icon:F.Z}])},U=t(99534),G=t(90263),X=t(86886),Y=t(29815),$=t(75063),V=t(75436);function K(){var e=(0,i.Z)(['\n  subscription GetNotificationsCount($userId: Int!) {\n    meta: Notification_aggregate(\n      where: {\n        userId: { _eq: $userId }\n        Communication: { text: { _ilike: null } }\n        status: { _eq: "unread" }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return K=function(){return e},e}var ee=(0,$.Ps)(K()),en=function(e){var n=localStorage.getItem("bearerToken"),t=(0,V.m)(ee,{skip:!e||!n,variables:{userId:null==e?void 0:e.id}}).data;return{id:"navNotifications",to:"/dashboard/notifications",type:{as:"notification",count:(void 0===t?{meta:{aggregate:{totalCount:0}}}:t).meta.aggregate.totalCount}}},et=t(79793),ei=t(15573),ea=t(39858),eo=t(68503),er=t(31856),es=function(e,n){var t,i,o=en(e),r=[];return(null===(i=n.accounts)||void 0===i?void 0:i.length)>1&&(r.push({id:"navAccountSwitchDivider",divider:!0}),n.accounts.forEach(function(n){if(n.id!==e.accountId){var t;r.push({id:"navAccountSwitch-".concat(n.id),title:"".concat(n.name," (").concat(null===(t=n.admin)||void 0===t?void 0:t.name,")"),href:"/account/switch?id=".concat(n.id),icon:eo.Z})}})),t=[{id:"navProfile",title:"Profile",href:"/dashboard/users/view?id=".concat(e.id),icon:ei.Z},{id:"navNotifications",title:"Notifications",icon:function(){return(0,a.jsx)(G.Z,{badgeContent:o.type.count,max:999,color:"secondary",children:(0,a.jsx)(et.Z,{})})},href:"/dashboard/notifications"}].concat((0,Y.Z)(r.length?r:[]),[{id:"navLogout",title:"Logout",href:"/account/logout",icon:ea.Z}]),"supplier"===e.accountType&&t.splice(1,0,{id:"navHoliday",title:"Holiday Time",href:"/dashboard/holidays",icon:er.Z}),t},ed=[{id:"navHome",title:"Dashboard",href:"/"},{id:"navSignIn",title:"Log in",href:"/account/sign-in"}],ec=t(51964),el=t.n(ec),eh=t(78462),eu=t(828),ep=t(11163),ef=t.n(ep),ev=t(87918),em=t(57922),eb=t(59334),ex=t(11057),eg=t(60181),eZ=t(23508);function ew(){var e=(0,i.Z)(["\n  padding-left: "," !important;\n  padding-bottom: "," !important;\n  text-wrap: nowrap;\n  svg {\n    font-size: 20px;\n    min-width: 24px;\n    min-height: 24px;\n    opacity: 0.5;\n  }\n"]);return ew=function(){return e},e}function eC(){var e=(0,i.Z)(["\n  padding: 0 !important;\n  padding-left: "," !important;\n  padding-right: "," !important;\n"]);return eC=function(){return e},e}function ej(){var e=(0,i.Z)(["\n  svg {\n    font-size: 20px;\n    width: 20px;\n    height: 20px;\n    opacity: 0.5;\n  }\n"]);return ej=function(){return e},e}function ey(){var e=(0,i.Z)(["\n  margin-left: ",";\n"]);return ey=function(){return e},e}function eP(){var e=(0,i.Z)(["\n  height: 20px;\n  position: absolute;\n  right: 26px;\n  top: 12px;\n  z-index: 1;\n  span.MuiChip-label,\n  span.MuiChip-label:hover {\n    font-size: 11px;\n    cursor: pointer;\n  }\n"]);return eP=function(){return e},e}function ek(){var e=(0,i.Z)([""]);return ek=function(){return e},e}function eI(){var e=(0,i.Z)([""]);return eI=function(){return e},e}var eS=(0,o.ZP)(Z.Z).withConfig({displayName:"SidebarNavListItem__Item",componentId:"sc-61620329-0"})(ew(),function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):e.collapsed?"22px":"16px"},function(e){return e.collapsed?"0px":"8px"}),eM=(0,o.ZP)(Z.Z).withConfig({displayName:"SidebarNavListItem__ButtonItemContainer",componentId:"sc-61620329-1"})(eC(),function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):"16px"},function(e){return e.depth&&e.depth>0?"".concat(50*e.depth,"px"):"16px"}),e_=(0,o.ZP)(ex.Z).withConfig({displayName:"SidebarNavListItem__ButtonItem",componentId:"sc-61620329-2"})(ej()),eN=(0,o.ZP)(eb.Z).withConfig({displayName:"SidebarNavListItem__Title",componentId:"sc-61620329-3"})(ey(),function(e){return e.icon?e.collapsed?"25px":"16px":"0px"}),eL=(0,o.ZP)(ev.Z).withConfig({displayName:"SidebarNavListItem__Badge",componentId:"sc-61620329-4"})(eP()),eA=(0,o.ZP)(eg.Z).withConfig({displayName:"SidebarNavListItem__ExpandLessIcon",componentId:"sc-61620329-5"})(ek()),eD=(0,o.ZP)(eZ.Z).withConfig({displayName:"SidebarNavListItem__ExpandMoreIcon",componentId:"sc-61620329-6"})(eI()),eF=function(e){var n=e.title,t=e.href,i=e.depth,o=void 0===i?0:i,r=e.children,s=e.icon,d=e.badge,c=e.open,l=e.type,h=void 0===l?"link":l,u=e.collapsed,p=(0,eu.Z)(v.useState(void 0!==c&&c),2),f=p[0],m=p[1],x=function(){m(function(e){return!e})};return r?(0,a.jsxs)(v.Fragment,{children:[(0,a.jsxs)(eS,{depth:o,color:"secondary",onClick:x,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(eN,{icon:!!s,depth:o,collapsed:u,children:[n,d&&(0,a.jsx)(eL,{color:"secondary",label:d})]}),f?(0,a.jsx)(eA,{}):(0,a.jsx)(eD,{})]}),(0,a.jsx)(em.Z,{in:f,children:r})]}):t&&"link"===h?(0,a.jsx)(b(),{href:t,passHref:!0,children:(0,a.jsxs)(eS,{depth:o,color:"secondary",collapsed:u,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(eN,{icon:!!s,depth:o,collapsed:u,children:[n,d&&(0,a.jsx)(eL,{color:"secondary",label:d})]})]})}):t&&"actionButton"===h&&!u?(0,a.jsx)(eM,{depth:o,children:(0,a.jsx)(e_,{color:"secondary",variant:"contained",sx:{width:"100%",textTransform:"none"},onClick:function(){return ef().push(t)},children:(0,a.jsxs)(eN,{icon:!!s,depth:o,children:[n,d&&(0,a.jsx)(eL,{color:"secondary",label:d})]})})}):t&&"actionButton"===h&&u?(0,a.jsx)(eM,{depth:o,children:(0,a.jsx)(ex.Z,{color:"secondary",variant:"contained",sx:{minWidth:"auto",width:"40px",height:"26px"},onClick:function(){return ef().push(t)},children:s&&(0,a.jsx)(s,{})})}):n?(0,a.jsxs)(eS,{depth:o,color:"secondary",collapsed:u,children:[s&&(0,a.jsx)(s,{}),(0,a.jsxs)(eN,{icon:!!s,depth:o,collapsed:u,children:[n,d&&(0,a.jsx)(eL,{color:"secondary",label:d})]})]}):s?(0,a.jsx)(P.Z,{children:(0,a.jsx)(s,{})}):null},eR=function(e){var n=e.items,t=e.page,i=e.depth,o=e.currentRoute,r=e.collapsed;if(t.children&&!r){var s=t.children.some(function(e){return e.href===o});n.push((0,a.jsx)(eF,{depth:i,icon:t.icon,badge:t.badge,open:s,title:t.title,href:t.href,type:t.type,collapsed:r,children:(0,a.jsx)(eT,{depth:i+1,pages:t.children})},t.title))}else{var d,c=null==t?void 0:null===(d=t.children)||void 0===d?void 0:d.some(function(e){return e.href===o});n.push((0,a.jsx)(eF,{depth:i,href:t.href,icon:t.icon,badge:t.badge,open:c,title:t.title,type:t.type,collapsed:r},t.title))}return n},eT=function(e){var n=e.pages,t=e.depth,i=e.collapsed,o=(0,ep.useRouter)().pathname,r=n.reduce(function(e,n){return eR({items:e,page:n,currentRoute:o,depth:t,collapsed:i})},[]);return(0,a.jsx)(v.Fragment,{children:r})};function eQ(){var e=(0,i.Z)(["\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\n  flex-grow: 1;\n"]);return eQ=function(){return e},e}function ez(){var e=(0,i.Z)(["\n  opacity: 0.4;\n  text-transform: uppercase;\n  display: block;\n  color: #ffffff;\n  padding: ",";\n"]);return ez=function(){return e},e}function eB(){var e=(0,i.Z)(["\n  ","\n"]);return eB=function(){return e},e}var eH=function(e){return(0,o.iv)(eQ())},eJ=(0,o.ZP)(w.Z).withConfig({displayName:"SidebarNav__Title",componentId:"sc-4556a630-0"})(ez(),function(e){return e.collapsed?"8px 8px":"8px 16px"}),eW=(0,o.ZP)(el()).withConfig({displayName:"SidebarNav__PerfectScrollbar",componentId:"sc-4556a630-1"})(eB(),eH),eq=function(e){var n=e.pages,t=e.title,i=e.collapsed,o=e.component,r=(0,U.Z)(e,["pages","title","collapsed","component"]),s=n.filter(function(e){return"actionButton"===e.type}),d=n.filter(function(e){return"actionButton"!==e.type});return(0,a.jsx)(eW,{children:(0,a.jsx)(eh.Z,{disablePadding:!0,children:(0,a.jsxs)(void 0===o?"nav":o,(0,f.Z)((0,p.Z)({},r),{children:[s.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eJ,{collapsed:i,variant:"subtitle2",children:"Actions"}),(0,a.jsx)(eT,{collapsed:i,pages:s,depth:0})]}):null,t&&(0,a.jsx)(eJ,{collapsed:i,variant:"subtitle2",sx:{padding:"8px 16px"},children:t}),(0,a.jsx)(eT,{collapsed:i,pages:d,depth:0})]}))})})},eE=t(76388);function eO(){var e=(0,i.Z)(["\n  background: ",";\n  padding-bottom: 16px;\n"]);return eO=function(){return e},e}function eU(){var e=(0,i.Z)([""]);return eU=function(){return e},e}function eG(){var e=(0,i.Z)(["\n  font-size: 0.7rem;\n  display: block;\n  padding: 1px;\n  text-overflow: ellipsis;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return eG=function(){return e},e}function eX(){var e=(0,i.Z)(["\n  span {\n    height: 12px;\n    width: 12px;\n    border-radius: 50%;\n  }\n"]);return eX=function(){return e},e}var eY=o.ZP.div.withConfig({displayName:"SidebarFooter__Footer",componentId:"sc-390051a7-0"})(eO(),function(e){return e.theme.NAVBAR.newFooterBackground}),e$=(0,o.ZP)(w.Z).withConfig({displayName:"SidebarFooter__FooterText",componentId:"sc-390051a7-1"})(eU()),eV=(0,o.ZP)(w.Z).withConfig({displayName:"SidebarFooter__FooterSubText",componentId:"sc-390051a7-2"})(eG()),eK=(0,o.ZP)(G.Z).withConfig({displayName:"SidebarFooter__FooterBadge",componentId:"sc-390051a7-3"})(eX()),e0=function(e){var n=e.collapsed,t=(0,U.Z)(e,["collapsed"]),i=(0,l.x)().user,o=(0,z.q)(),s=ed;return i&&(s=es(i,o)),(0,a.jsxs)(eY,(0,f.Z)((0,p.Z)({},t),{children:[(0,a.jsxs)(X.ZP,{container:!0,spacing:2,sx:{padding:2},children:[(0,a.jsx)(X.ZP,{item:!0,children:(0,a.jsx)(eK,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:!!i&&(0,a.jsx)(C.Z,(0,p.Z)({},(0,eE.G)([i.nameFirst,i.nameLast].join(" "))))})}),(0,a.jsx)(X.ZP,{item:!0,sx:{width:"70%"},children:!n&&!!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e$,{children:[i.nameFirst," (",i.accountType,")"]}),(0,a.jsx)(eV,{variant:"caption",children:i.email})]})})]}),(0,a.jsx)(r.Z,{sx:{paddingLeft:n?0:1},children:(0,a.jsx)(eq,{pages:s,collapsed:n})})]}))},e1=t(19192),e2=t(35374),e6=t(56359),e5=(0,j.ZP)(g.ZP)(function(e){var n=e.collapsed,t=e.sm,i=e.theme;return{width:t?"0px":"68px",transition:"width 0.5s",background:i.palette.muiPrimary.main,borderRight:0,overflowX:"hidden","& > div":{borderRight:0},"& p":{color:"#eeeeee"},"& .MuiPaper-root":(0,p.Z)((0,f.Z)((0,p.Z)({},!t&&{width:"".concat(n?68:258,"px")},t&&{width:"100%"}),{transition:"width 0.5s",background:i.palette.muiPrimary.main}),n&&{overflow:"hidden"})}}),e3=(0,j.ZP)(Z.Z)(function(){return{maxHeight:"60px",justifyContent:"flex-start",cursor:"pointer",background:"#232f3e","& p":{fontSize:"1.25rem"}}}),e9=(0,j.ZP)(C.Z)(function(){return{width:"32px",height:"32px"}}),e4=(0,j.ZP)(r.Z)(function(){return{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",color:"#eeeeee",marginTop:"16px"}}),e8=(0,j.ZP)(r.Z)(function(){return{height:"64px"}}),e7=(0,j.ZP)(r.Z)(function(e){var n=e.theme,t=e.mobilePlatform;return(0,f.Z)((0,p.Z)({top:0,width:"100%",height:"100%",maxHeight:"max(64px, calc(env(safe-area-inset-top) + 64px))",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"20px",paddingRight:"20px"},t&&{paddingTop:"calc(env(safe-area-inset-top) / 2)"}),{position:"fixed",zIndex:1199,background:n.palette.muiPrimary.main})}),ne=(0,j.ZP)(C.Z)(function(){return{width:"42px",height:"42px"}}),nn=(0,j.ZP)(k.Z)(function(e){return{width:"36px",height:"36px",color:e.theme.palette.secondary.main}}),nt=(0,j.ZP)(I.Z)(function(e){return{width:"24px",height:"24px",color:e.theme.palette.white.main}}),ni=(0,j.ZP)(r.Z)(function(e){var n=e.sm,t=e.mobilePlatform;return(0,p.Z)({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},n&&!t&&{paddingTop:"15px",paddingLeft:"20px",paddingRight:"20px"},t&&{paddingTop:"max(15px, env(safe-area-inset-top))",paddingLeft:"20px",paddingRight:"20px"})}),na=function(e){e.items;var n,t,i,o,s,c,h,u,m,g,Z,C,j=e.showFooter,k=(0,e2.s)(),I=(0,e2.a)(),S=(0,d.Z)("(max-width: 600px)")||k,M=(0,z.q)(),_=(null==M?void 0:null===(n=M.admin)||void 0===n?void 0:null===(t=n.modules)||void 0===t?void 0:t.sageIntegration)||!1,N=null==M?void 0:null===(i=M.admin)||void 0===i?void 0:null===(o=i.modules)||void 0===o?void 0:o.assets,L=null==M?void 0:null===(s=M.admin)||void 0===s?void 0:null===(c=s.modules)||void 0===c?void 0:c.workflows,A=null==M?void 0:null===(h=M.admin)||void 0===h?void 0:null===(u=h.modules)||void 0===u?void 0:u.dataReports,D=null==M?void 0:null===(m=M.admin)||void 0===m?void 0:null===(g=m.modules)||void 0===g?void 0:g.dataCharts,F=(0,z.q)(),R=F.admin,T=F.hasUserModule,B=(0,l.x)().hasRole,H=B("customer_owner"),J=B("customer_manager"),U=B("customer_user"),G=B("tenant"),X=T("quotes"),Y=T("ppmSchedules"),$=(0,l.x)().user,V=(0,x.a)(e6.u,{variables:{userId:null==$?void 0:$.id},skip:!G}).data,K=(void 0===V?{tenant:[]}:V).tenant,ee=(0,v.useState)(!0),en=ee[0],et=ee[1],ei=function(){et(!0)},ea=function(){et(!1)},eo={},er="permanent",es=null==R?void 0:R.media,ed=null==es?void 0:es.find(function(e){return"themeLogo"===e.item.category}),ec=ed?"".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(ed.item.filename):"/static/logo/icon-white.png";if($)switch($.accountType){case"admin":eo=Q({hasSageIntegration:_,hasXeroIntegration:!!(null===(C=(0,e1.RM)($.id))||void 0===C?void 0:C.companyId),hasAssetModule:N,hasWorkflows:L,hasDataReports:A,hasDataCharts:D,isMobile:k});break;case"customer":eo=W({isCustomerOwner:H,isCustomerManager:J,isCustomerUser:U,hasQuotesModule:X,hasPPMscheduleModule:Y});break;case"superadmin":eo=q;break;case"supplier":eo=E;break;case"tenant":eo=O({locationId:null===(Z=K[0])||void 0===Z?void 0:Z.locationId,hasQuotesModule:X});break;default:eo=[]}else eo=[];return S&&(er="persistent"),(0,a.jsxs)(a.Fragment,{children:[S&&(0,a.jsx)(e8,{children:(0,a.jsxs)(e7,{mobilePlatform:I,children:[(0,a.jsx)(P.Z,{onClick:function(){return et(!1)},children:(0,a.jsx)(nn,{})}),(0,a.jsx)(b(),{href:"/dashboard",children:(0,a.jsx)(ne,{src:ec,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"42",height:"42",src:"/static/logo/icon-white.png"})})})]})}),(0,a.jsxs)(e5,(0,f.Z)((0,p.Z)({collapsed:en,variant:er},!S&&{onMouseLeave:ei,onMouseEnter:ea},S&&{open:!en}),{sm:S,children:[(0,a.jsxs)(ni,{sm:S,mobilePlatform:I,className:"safe--area",children:[(0,a.jsx)(b(),{href:"/dashboard",children:S?(0,a.jsxs)(y.Z,{width:"100%",direction:"row",alignItems:"center",children:[(0,a.jsx)(ne,{src:ec,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"42",height:"42",src:"/static/logo/icon-white.png"})}),(0,a.jsx)(r.Z,{ml:2,children:(0,a.jsx)(w.Z,{fontSize:"20px",children:"Cleverly"})})]}):(0,a.jsxs)(e3,{children:[(0,a.jsx)(e9,{src:ec,alt:"Cleverly logo",children:(0,a.jsx)("img",{width:"32",height:"32",src:"/static/logo/icon-white.png"})}),!en&&(0,a.jsx)(r.Z,{ml:1,children:(0,a.jsx)(w.Z,{children:"Cleverly"})})]})}),S&&(0,a.jsx)(P.Z,{onClick:function(){return et(!0)},children:(0,a.jsx)(nt,{})})]}),(0,a.jsxs)(e4,{children:[(0,a.jsx)(eq,{title:"Pages",collapsed:en,pages:eo}),!!(void 0===j||j)&&(0,a.jsx)(e0,{collapsed:en})]})]}))]})},no=t(98209),nr=t(83372),ns=t(9008),nd=t.n(ns),nc=function(){var e=(0,z.q)().admin,n=(0,v.useState)(""),t=n[0],i=n[1];return(0,v.useEffect)(function(){var n,t,a=null==e?void 0:null===(n=e.media)||void 0===n?void 0:n.find(function(e){return"themeFavicon"===e.item.category});a?i("".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(null==a?void 0:null===(t=a.item)||void 0===t?void 0:t.filename)):i("/static/favicon/CleverlyLogoBlack.png")},[ef().asPath,ef().pathname]),(0,a.jsxs)(nd(),{children:[(0,a.jsx)("title",{children:"Cleverly"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:t}),(0,a.jsx)("meta",{name:"viewport",content:"initial-scale=1, viewport-fit=cover"})]})},nl=t(5152),nh=t.n(nl);function nu(){var e=(0,i.Z)(["\n  background: ",";\n  display: ",";\n  overflow: hidden;\n\n  .AppContent {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: ",";\n\n    overflow: hidden;\n  }\n\n  .responsive-fontSize {\n    font-size: 0.7vmax !important;\n  }\n  p,\n  span,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  label,\n  button,\n  ul,\n  li,\n  nav,\n  div {\n    font-family: ",";\n  }\n\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  height: 100vh;\n\n  * ::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n\n  * ::-webkit-scrollbar-track {\n    background-color: inherit;\n    border-radius: 6px;\n  }\n\n  /* Customize scrollbar handle */\n  * ::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: 6px;\n  }\n\n  /* Customize scrollbar track on hover */\n  * ::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n"]);return nu=function(){return e},e}function np(){var e=(0,i.Z)([""]);return np=function(){return e},e}function nf(){var e=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  flex: 1;\n  background: transparent;\n  border: none;\n  box-shadow: none;\n  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n    flex: none;\n  }\n\n  .MuiPaper-root .MuiPaper-root {\n    box-shadow: none;\n  }\n\n  .ChildWrapper {\n    padding: 16px;\n  }\n"]);return nf=function(){return e},e}function nv(){var e=(0,i.Z)(["\n  flex: 1;\n  height: 100%;\n  background-color: transparent !important;\n  overflow-y: scroll;\n"]);return nv=function(){return e},e}var nm=nh()(function(){return Promise.all([t.e(212),t.e(8890),t.e(4599),t.e(3776),t.e(3425),t.e(4768),t.e(4447),t.e(4565),t.e(9766)]).then(t.bind(t,89766)).then(function(e){return e.Dux})},{loadableGenerated:{webpack:function(){return[89766]}},ssr:!1}),nb=(0,o.ZP)(r.Z).withConfig({displayName:"MiraLayout__Box",componentId:"sc-5befe150-0"})(c.ZP),nx=o.ZP.div.withConfig({displayName:"MiraLayout__Root",componentId:"sc-5befe150-1"})(nu(),function(e){return e.theme.COLOUR.muiLight},function(e){return e.sm?"block":"flex"},function(e){return e.sm?"calc(100% - 64px)":"100%"},function(e){return e.theme.THEME_TYPOGRAPHY.newFont}),ng=o.ZP.div.withConfig({displayName:"MiraLayout__AppContent",componentId:"sc-5befe150-2"})(np()),nZ=(0,o.ZP)(nb).withConfig({displayName:"MiraLayout__MainContent",componentId:"sc-5befe150-3"})(nf()),nw=(0,o.ZP)(nb).withConfig({displayName:"MiraLayout__ChildrenWrapContainer",componentId:"sc-5befe150-4"})(nv()),nC=function(e){var n=e.children,t=(0,e2.s)(),i=(0,d.Z)("(max-width: 600px)"),o=(0,l.x)().user;return(0,a.jsxs)(s.Z,{theme:nr.Q.muiTheme,children:[(0,a.jsx)(nc,{}),(0,a.jsxs)(nx,{className:"safe--area",sm:i||t,children:[(0,a.jsx)(na,{}),(0,a.jsx)(ng,{className:"AppContent",children:(0,a.jsxs)(nZ,{children:[(0,a.jsx)(nw,{className:"ChildWrapper",children:n}),no.C1.isMobile&&(0,a.jsx)(u.d,{user:o})]})})]}),"pre-production"===no.De.environment&&!t&&(0,a.jsx)(nm,{}),(0,a.jsx)(h.T,{user:o})]})}}}]);