(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5916],{96540:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(64938)),i=n(85893);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},50594:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(64938)),i=n(85893);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},85412:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(64938)),i=n(85893);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteRounded")},40055:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(64938)),i=n(85893);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done")},12282:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(64938)),i=n(85893);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded")},71496:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(64938)),i=n(85893);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41 0L6.7 10.7a.9959.9959 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0"}),"KeyboardArrowDownRounded")},11961:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(64938)),i=n(85893);t.Z=(0,r.default)([(0,i.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M13 20.01 4 11V4h7v-.01l9 9z"},"0"),(0,i.jsx)("circle",{cx:"6.5",cy:"6.5",r:"1.5"},"1")],"LocalOfferOutlined")},81261:function(e,t,n){"use strict";var o=n(64836);t.Z=void 0;var r=o(n(64938)),i=n(85893);t.Z=(0,r.default)((0,i.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage")},23795:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var o=n(63366),r=n(87462),i=n(67294),a=n(63961),s=n(58510),l=n(98216),c=n(90948),u=n(71657),d=n(79674),p=n(51705),h=n(15861),f=n(1977),m=n(8027);function v(e){return(0,m.ZP)("MuiLink",e)}let x=(0,f.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var g=n(54844),b=n(2101);let y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Z=e=>y[e]||e,j=({theme:e,ownerState:t})=>{let n=Z(t.color),o=(0,g.DW)(e,`palette.${n}`,!1)||t.color,r=(0,g.DW)(e,`palette.${n}Channel`);return"vars"in e&&r?`rgba(${r} / 0.4)`:(0,b.Fq)(o,.4)};var w=n(85893);let C=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],T=e=>{let{classes:t,component:n,focusVisible:o,underline:r}=e,i={root:["root",`underline${(0,l.Z)(r)}`,"button"===n&&"button",o&&"focusVisible"]};return(0,s.Z)(i,v,t)},S=(0,c.ZP)(h.Z,{name:"MuiLink",slot:"Root",overridesResolver(e,t){let{ownerState:n}=e;return[t.root,t[`underline${(0,l.Z)(n.underline)}`],"button"===n.component&&t.button]}})(({theme:e,ownerState:t})=>(0,r.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,r.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:j({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${x.focusVisible}`]:{outline:"auto"}})),k=i.forwardRef(function(e,t){let n=(0,u.Z)({props:e,name:"MuiLink"}),{className:s,color:l="primary",component:c="a",onBlur:h,onFocus:f,TypographyClasses:m,underline:v="always",variant:x="inherit",sx:g}=n,b=(0,o.Z)(n,C),{isFocusVisibleRef:Z,onBlur:j,onFocus:k,ref:P}=(0,d.Z)(),[M,D]=i.useState(!1),I=(0,p.Z)(t,P),_=e=>{j(e),!1===Z.current&&D(!1),h&&h(e)},E=e=>{k(e),!0===Z.current&&D(!0),f&&f(e)},L=(0,r.Z)({},n,{color:l,component:c,focusVisible:M,underline:v,variant:x}),A=T(L);return(0,w.jsx)(S,(0,r.Z)({color:l,className:(0,a.Z)(A.root,s),classes:m,component:c,onBlur:_,onFocus:E,ref:I,ownerState:L,variant:x,sx:[...Object.keys(y).includes(l)?[]:[{color:l}],...Array.isArray(g)?g:[g]]},b))});var P=k},76312:function(e,t,n){"use strict";var o,r=n(18391),i=n(51174),a=n(67294),s=n(45697),l=n(10367),c=n(28368),u=Array(12).fill(""),d=l.ZP.div(o||(o=(0,i.Z)(["\n  display: inline-block;\n  height: ","px;\n  position: relative;\n  width: ","px;\n\n  div {\n    animation: lds-spinner 1.2s linear infinite;\n    transform-origin: ","px ","px;\n\n    ::after {\n      background: ",";\n      border-radius: ","%;\n      content: ' ';\n      display: block;\n      height: ","px;\n      left: ","px;\n      position: absolute;\n      top: ","px;\n      width: ","px;\n    }\n  }\n\n  ","\n\n  @keyframes lds-spinner {\n    0% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n"])),function(e){return e.size},function(e){return e.size},function(e){return e.size/2},function(e){return e.size/2},function(e){var t=e.context;return e.theme.COLOUR[t]},function(e){return e.size/4},function(e){return e.size/4-2},function(e){return e.size/2-3},function(e){return e.size/10-5},function(e){return e.size/10-2},function(e){var t=e.spinner,n="";return t.forEach(function(e,t){n+="\n        div:nth-child(".concat(t+1,") {\n          transform: rotate(").concat(30*t,"deg);\n          animation-delay: ").concat(-1.1+parseFloat(.1*t),"s;\n        }\n      ")}),n}),p=function(e){return a.createElement(d,(0,r.Z)({},e,{spinner:u}),u.map(function(e,t){return a.createElement("div",{key:"spin"+t})}))};p.displayName="LdsSpinner",p.propTypes={size:s.number,context:(0,s.oneOf)(Object.values(c.Z))},p.defaultProps={context:"dark",size:56},t.Z=p},18645:function(e,t,n){"use strict";var o,r=n(51174),i=n(18391),a=n(66080),s=n(67294),l=n(45697),c=n(10367),u=["children","dataCy","indicator"],d=function(e){var t=e.children,n=e.dataCy,o=e.indicator,r=(0,a.Z)(e,u);return s.createElement(p,(0,i.Z)({"data-cy":n},r),o||t)};d.displayName="PageLoading";var p=c.ZP.div(o||(o=(0,r.Z)(["\n  align-items: center;\n  background-color: ",";\n  color: #fff;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  opacity: ",";\n  position: ",";\n  right: 0;\n  top: 0;\n  width: 100%;\n  z-index: 99;\n"])),function(e){return e.backgroundColor},function(e){return e.opacity},function(e){return e.position});d.propTypes={backgroundColor:l.string,children:l.any,dataCy:l.string,indicator:l.any,opacity:l.number,position:l.string},d.defaultProps={backgroundColor:"#fff",dataCy:"loadingIndicator",opacity:1,position:"fixed"},t.Z=d},25702:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/tasks",function(){return n(34475)}])},74492:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var o=n(55508),r=n(67294),i=function(){var e=(0,r.useContext)(o.d);if(!e)throw Error("useOffCanvasContext must be used within the OffCanvasProvider");return e}},19512:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var o=n(67294),r=n(21925),i=function(){var e=(0,o.useContext)(r.S);if(!e)throw Error("useSnackbarContext must be used within the SnackbarProvider");return e}},83162:function(e,t,n){"use strict";n.d(t,{r:function(){return p}});var o=n(26042),r=n(69396),i=n(99534),a=n(85893),s=n(45697),l=n.n(s),c=n(41664),u=n.n(c),d=n(23795),p=function(e){var t=e.children,n=e.href,s=e.noWrap,l=e.target,c=e.sx,p=void 0===c?{}:c,h=(0,i.Z)(e,["children","href","noWrap","target","sx"]);return s?(0,a.jsx)(a.Fragment,{children:t}):n?(0,a.jsx)(u(),{href:n,target:l,passHref:!0,children:(0,a.jsx)(d.Z,(0,r.Z)((0,o.Z)({sx:p,children:t,href:n,noWrap:s,target:l},h),{children:t}))}):(0,a.jsx)(d.Z,(0,r.Z)((0,o.Z)({sx:p,children:t,href:n,noWrap:s,target:l},h),{children:t}))};p.defaultProps={onClick:function(e){e.stopPropagation()}},p.propTypes={onClick:l().func,href:l().string,noWrap:l().bool,color:l().string}},57779:function(e,t,n){"use strict";n.d(t,{G:function(){return O}});var o=n(26042),r=n(69396),i=n(85893),a=n(45697),s=n.n(a),l=n(6812),c=n(92711),u=n(45451),d=n(11013),p=n(3770),h=n(452),f=n(40826),m=function(e,t){var n=function(){return(0,i.jsx)(f.Z,{context:"success",icon:"check",size:"sm",title:"Yes"})},o=function(){return(0,i.jsx)(f.Z,{context:"warning",icon:"times",size:"sm",title:"No"})},r=function(){return(0,i.jsx)(f.Z,{context:"dark",icon:"minus",size:"sm",title:"Unavailable"})};return"image"===e?(null==t?void 0:t.thumbnails)&&(null==t?void 0:t.thumbnails.length)?n:o:r},v=n(12632),x=n(74944),g=n(86532),b=n(22797),y=n(38895),Z=n(5616),j=n(11057),w=n(51233),C=n(21023),T=n(15861),S=n(14924),k=n(70872),P=n(58886),M=n(90948),D=n(67294),I=n(77314),_=(0,n(42850).bH)(I.ZP),E=function(e){var t=e.images,n=e.showPagination,r=e.height,a=(0,D.useState)(0),s=a[0],l=a[1],c=function(e){l(e)};return(0,i.jsxs)(w.Z,{width:"100%",alignItems:"center",children:[(0,i.jsx)(_,{index:s,onChangeIndex:c,enableMouseEvents:!0,interval:1e4,children:t.map(function(e){return(0,i.jsx)(Z.Z,{component:"img",sx:{height:r,display:"block",overflow:"hidden",width:"100%",objectFit:"cover"},src:e.filename,alt:e.caption},e.caption)})}),n&&t.length>1&&(0,i.jsx)(L,{page:s+1,count:t.length,onChange:function(e,t){return c(t-1)},variant:"outlined",shape:"rounded",renderItem:function(e){return(0,i.jsx)(P.Z,(0,o.Z)({slots:{previous:function(){return"Previous"},next:function(){return"Next"}}},e))}})]})};E.defaultProps={images:[],showPagination:!0},E.propTypes={height:s().oneOfType([s().string,s().number]),images:s().arrayOf(s().shape({caption:s().string,filename:s().string.isRequired}).isRequired).isRequired,showPagination:s().bool};var L=(0,M.ZP)(k.Z)(function(e){e.hidePrevButton,e.hideNextButton;var t,n=e.theme;return t={},(0,S.Z)(t,"&.MuiPagination-root",{alignSelf:"center",marginTop:"16px"}),(0,S.Z)(t,"& .MuiPaginationItem-root",{fontWeight:600,margin:0,borderRadius:0}),(0,S.Z)(t,"& .MuiPagination-ul > li:last-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"0 5px 5px 0"}),(0,S.Z)(t,"& .MuiPagination-ul > li:first-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"5px 0 0 5px"}),(0,S.Z)(t,"& button.Mui-selected",{color:n.palette.white.main,backgroundColor:n.palette.secondary.main}),t}),A=n(27434),F=n(21830),Y=n(83162),R=n(74492),O=function(e){var t=e.carousel,n=e.category,a=e.data,s=e.entity,f=e.entityId,S=e.filters,k=e.listView,P=e.mediaMeta,M=e.onMediaAdd,D=e.onMediaRemove,I=e.showActionButtons,_=e.showEntityColumn,L=e.showItemActions,O=e.title,N=e.type,z=e.expanded,q=e.onChangeExpanded,W=e.hideExpandIcon,$=e.mediaFormProps,H=e.offCanvasProps,B=e.onlySingleMedia,U=e.elevation,V=e.accordionSx,G=e.refetch,Q=(0,v.x)({filters:S}),X=Q.initialData,J=Q.ref,K=(0,x.x)(),ee=K.hasRole,et=K.user,en=(0,R.a)(),eo=(0,l.a)(c.t,{variables:(0,r.Z)((0,o.Z)({},X),{entity:s,entityId:f,category:n,adminId:et.adminId,meta:P})}),er=eo.data,ei=void 0===er?{items:[],meta:{aggregate:{totalCount:0}}}:er,ea=ei.items,es=ei.meta,el=eo.loading,ec=eo.refetch,eu=function(e){en.close(),a.length||ec();var t=e.map(function(e){return(0,r.Z)((0,o.Z)({},e),{link:"".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(e.filename)})});M&&M(t),G&&G()},ed=function(e){en.close(),a.length||ec(),D&&D(e),G&&G()},ep=function(e){e.stopPropagation(),en.show((0,o.Z)({content:(0,i.jsx)(h.z,(0,o.Z)({accept:"image/*",adminId:et.adminId,category:n,entity:s,entityId:f,expiryShow:!1,mediaMeta:P,multiple:!0,onSuccess:eu,type:"image"},$)),title:"Upload Photos"},H))},eh=function(e){e.stopPropagation(),en.show((0,o.Z)({content:(0,i.jsx)(h.z,(0,o.Z)({accept:".pdf, .doc, .docx, .xlsx",adminId:et.adminId,category:n,entity:s,entityId:f,expiryShow:!1,mediaMeta:P,onSuccess:eu,type:"document"},$)),title:"Upload Documents"},H))},ef=function(e){en.show({content:(0,i.jsx)(d.d,{mediaId:e.data.id,onSuccess:ed}),submit:!1,title:"Delete Media"})},em=function(e){en.show({content:(0,i.jsx)(p.z,{media:e.data,toggleShow:en.close}),title:"Media Details"})},ev=function(e){return[{context:"primary",icon:"info",onClick:function(t){return em(e)},tooltip:"Details"},{context:"danger",icon:"delete",onClick:function(t){return ef(e)},tooltip:"Delete"}]},ex=[{field:"file",headerName:"File",flex:1,sortable:!1,renderCell:function(e){var t=e.row,n=e.value;return(0,i.jsx)(Y.r,{color:"secondary",onClick:function(e){e.preventDefault(),window.open("".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(t.filename))},children:n})}},{field:"visibility",headerName:"Visible to",flex:1,sortable:!1},{hide:!_,field:"entity",headerName:"Entity",flex:1,sortable:!1},{field:"authority",headerName:"",width:50,sortable:!1,renderCell:function(e){var t=e.value;return(0,i.jsx)(i.Fragment,{children:(null==t?void 0:t.adminOnly)&&(0,i.jsx)(C.Z,{title:"Admin user only",children:(0,i.jsx)(Z.Z,{component:"img",alt:"Admin Only",src:"/messaging/admin-only.svg",sx:{height:"24px"}})})})}},{field:"uploaded",headerName:"Uploaded by",flex:1,sortable:!1},{hide:!k,field:"thumbnails",headerName:"Thumbnails",flex:1,sortable:!1,renderCell:function(e){var t=e.value;return"function"==typeof t?t():t}},{hide:!L,field:"actions",headerName:"",width:50,sortable:!1,renderCell:function(e){var t=e.row;return ee("admin")?(0,i.jsx)(F.C,{actionsData:ev,row:t}):et.id===t.userId?(0,i.jsx)(F.C,{actionsData:ev,row:t}):null}}],eg=[],eb=ea.filter(function(e){var t=e.item;return(null==t?void 0:t.visibility)&&ee(null==t?void 0:t.visibility)}).map(function(e){var t=e.entity,n=e.entityId,o=e.id,r=e.item,i=r.caption,a=r.filename,s=r.meta,l=r.name,c=r.type,u=r.user,d=r.visibility;return{data:r,id:o,userId:null==u?void 0:u.id,filename:a,visibility:d.join(", "),file:i||l||a,entity:t&&"".concat(t,"#").concat(n),authority:s,uploaded:"".concat(null==u?void 0:u.nameFirst," ").concat(null==u?void 0:u.nameLast),thumbnails:m(c,s),actions:""}}),ey=(ea.filter(function(e){var t=e.item;return(null==t?void 0:t.visibility)&&ee(null==t?void 0:t.visibility)}).forEach(function(e){var t=e.item,n=t.caption,o=t.filename;"image"===t.type&&eg.push({caption:n,filename:"".concat("https://cleverly-media.s3.eu-west-2.amazonaws.com","/").concat(o)})}),eg),eZ=ey.length;return(0,i.jsxs)(g.Z,{elevation:U,expanded:z,onChange:q,sx:V,children:[(0,i.jsx)(y.Z,(0,r.Z)((0,o.Z)({},W?{}:{expandIcon:(0,i.jsx)(A.Z,{})}),{children:(0,i.jsx)(T.Z,{variant:"h6",children:O})})),(0,i.jsxs)(b.Z,{children:[t&&eZ>0&&(0,i.jsx)(E,{height:"200px",images:ey}),(0,i.jsx)(u.i,{columns:ex,rows:eb,loading:el,meta:es,ref:J,refetch:ec,columnVisibilityModel:{entity:_,thumbnails:k,actions:L}}),I&&!(B&&eb.length>0)&&(0,i.jsxs)(w.Z,{direction:"row",justifyContent:"center",spacing:2,mt:2,children:[(!N||"document"===N)&&(0,i.jsx)(j.Z,{variant:"contained",color:"secondary",onClick:eh,children:"Add Document"}),(!N||"image"===N||"avatar"===N)&&(0,i.jsxs)(j.Z,{variant:"contained",color:"secondary",onClick:ep,children:["Add ",N?"".concat(N.charAt(0).toUpperCase()).concat(N.slice(1)):"Image"]})]})]})]})};O.propTypes={carousel:s().bool,category:s().string,data:s().array,entity:s().string,entityId:s().number,filters:s().object,listView:s().bool,mediaMeta:s().object,onMediaAdd:s().func,onMediaRemove:s().func,showActionButtons:s().bool,showEntityColumn:s().bool,showItemActions:s().bool,title:s().string,type:s().string,expanded:s().bool,onChangeExpanded:s().func,hideExpandIcon:s().bool,mediaFormProps:s().object,offCanvasProps:s().object,onlySingleMedia:s().bool,elevation:s().number,accordionSx:s().object,refetch:s().func},O.defaultProps={carousel:!0,data:[],filters:{},listView:!1,mediaMeta:null,showActionButtons:!0,showEntityColumn:!1,showItemActions:!0,title:"Media",type:null,onChangeExpanded:function(){},mediaFormProps:{},offCanvasProps:{},category:"media",onlySingleMedia:!1,elevation:1,accordionSx:{},refetch:function(){}}},34187:function(e,t,n){"use strict";n.d(t,{C:function(){return h}});var o=n(26042),r=n(69396),i=n(85893);n(67294);var a=n(45697),s=n(90948),l=n(15861),c=n(51233),u=n(11057),d=n(61730),p=(0,s.ZP)("img")({width:"300px",height:"250px"}),h=function(e){var t=e.imageSrc,n=e.sx,a=e.imageSx,s=e.title,h=e.titleSx,f=e.subtitleFirstLine,m=e.subtitleFirstLineSx,v=e.subtitleSecondLine,x=e.subtitleSecondLineSx,g=e.buttonText,b=e.onAction,y=(0,d.Z)("(max-width: 400px)");return(0,i.jsxs)(c.Z,{sx:(0,r.Z)((0,o.Z)({},n),{width:"100%",height:"100%"}),justifyContent:"center",alignItems:"center",spacing:2,color:"#757575",children:[(0,i.jsx)(p,{src:t,sx:(0,r.Z)((0,o.Z)({},a),{width:y?"250px":"300px"})}),(0,i.jsx)(l.Z,{typography:"h5",sx:(0,o.Z)({},h),children:s}),(0,i.jsxs)(c.Z,{alignItems:"center",sx:{padding:"0px 10px",textAlign:"center"},children:[(0,i.jsx)(l.Z,{sx:(0,o.Z)({},m),children:f}),(0,i.jsx)(l.Z,{sx:(0,o.Z)({},x),children:v})]}),g&&b&&(0,i.jsx)(u.Z,{variant:"contained",color:"secondary",onClick:b,children:g})]})};h.propTypes={imageSrc:a.string,title:a.string,subtitleFirstLine:a.string,subtitleSecondLine:a.string,onAction:a.func,sx:a.object,imageSx:a.object,titleSx:a.object,subtitleFirstLineSx:a.object,subtitleSecondLineSx:a.object},h.defaultProps={title:"",subtitleFirstLine:"",subtitleSecondLine:"",sx:{},imageSx:{},titleSx:{},subtitleFirstLineSx:{},subtitleSecondLineSx:{},onAction:null}},69297:function(e,t,n){"use strict";n.d(t,{E:function(){return v}});var o=n(26042),r=n(69396),i=n(85893),a=n(45697),s=n.n(a),l=n(94054),c=n(50480),u=n(56815),d=n(40476),p=n(79717),h=n(36872),f=n(51233),m=n(15861),v=function(e){var t=e.label,n=e.options,a=e.error,s=e.helperText,v=e.stackProps,g=e.formControlProps,b=e.labelLeft,y=function(e){var t=e.children;return(0,i.jsx)(i.Fragment,{children:t})};return(0,i.jsxs)(l.Z,(0,r.Z)((0,o.Z)({sx:{m:3},error:a,variant:"standard"},void 0===g?{}:g),{children:[(0,i.jsxs)(f.Z,(0,r.Z)((0,o.Z)({},b&&x),{children:[t&&(0,i.jsx)(d.Z,{id:"radio-group",color:"secondary",children:t}),(0,i.jsx)(p.Z,(0,r.Z)((0,o.Z)({},e),{"aria-labelledby":"radio-group",children:(0,i.jsx)(f.Z,(0,r.Z)((0,o.Z)({},void 0===v?{}:v),{children:n.map(function(e){var t=e.value,n=e.label,o=e.icon,r=e.ParentComponent;return(0,i.jsx)(void 0===r?y:r,{children:(0,i.jsx)(c.Z,{value:t,control:(0,i.jsx)(h.Z,{color:"secondary"}),label:(0,i.jsxs)(f.Z,{direction:"row",alignItems:"center",spacing:1,children:[o,(0,i.jsx)(m.Z,{children:n})]})})})})}))}))]})),(0,i.jsx)(u.Z,{children:s})]}))};v.defaultProps={options:[],error:!1,helperText:"",stackProps:{},formControlProps:{},labelLeft:!1},v.propTypes={label:s().string,options:s().arrayOf(s().shape({label:s().string.isRequired,value:s().any.isRequired,ParentComponent:s().elementType})).isRequired,error:s().bool,helperText:s().string,stackProps:s().object,formControlProps:s().object,labelLeft:s().bool};var x={direction:"row",alignItems:"center",flexWrap:"wrap",spacing:1}},91830:function(e,t,n){"use strict";n.d(t,{P:function(){return j}});var o=n(26042),r=n(69396),i=n(85893),a=n(67294),s=n(10166),l=n(45697),c=n.n(l),u=n(94054),d=n(47312),p=n(18972),h=n(18360),f=n(56815),m=n(51233),v=n(15861),x=n(5616),g=n(87918),b=n(69368),y={text:function(e){var t=e.option,n=e.multiple,o=e.index;return n&&o>0?", ".concat(t.label):t.label},textWithIcon:function(e){var t=e.option;return(0,i.jsxs)(m.Z,{direction:"row",alignItems:"center",spacing:1,children:[t.icon,(0,i.jsxs)(v.Z,{children:[" ",t.label]})]})},chip:function(e){var t=e.chipProps,n=e.option;return(0,a.createElement)(g.Z,(0,r.Z)((0,o.Z)({},t),{key:n.value,label:n.label,icon:n.icon,sx:{color:n.color,bgcolor:n.bgcolor}}))}},Z={text:function(e){return e.option.label},textWithIcon:function(e){var t=e.option;return(0,i.jsxs)(m.Z,{direction:"row",alignItems:"center",spacing:1,children:[t.icon,(0,i.jsxs)(v.Z,{children:[" ",t.label]})]})},chip:function(e){var t=e.chipProps,n=e.option;return(0,a.createElement)(g.Z,(0,r.Z)((0,o.Z)({},t),{key:n.value,label:n.label,icon:n.icon,sx:{color:n.color,bgcolor:n.bgcolor}}))},checkbox:function(e){var t=e.option,n=e.value;return(0,i.jsxs)(m.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,i.jsx)(b.Z,{color:"secondary",sx:{height:"10px"},checked:n.indexOf(t.value)>-1}),(0,i.jsxs)(v.Z,{children:[" ",t.label]})]})}},j=function(e){var t=e.label,n=e.value,a=e.onChange,s=e.leftSideLabel,l=e.options,c=e.inputComponent,u=e.selectComponent,d=e.withoutSelectIcon,m=e.formControl,g=e.chipProps,b=e.selectProps,j=function(e){return l.find(function(t){return t.value===e})};return(0,i.jsxs)(w,(0,r.Z)((0,o.Z)({},m),{leftSideLabel:s,withoutSelectIcon:d,children:[t&&s&&(0,i.jsx)(v.Z,{children:t}),t&&!s&&(0,i.jsx)(C,{shrink:""!==n&&void 0!==n,children:t}),(0,i.jsx)(h.Z,(0,r.Z)((0,o.Z)({displayEmpty:!0},b),{value:n,onChange:a,inputProps:{shrink:!0},renderValue:function(){if(Array.isArray(n))return(0,i.jsx)(x.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:n.map(function(e,t){var n=j(e);return n?y[c]({chipProps:g,option:n,multiple:!0,index:t}):""})});var e=j(n);return e?(0,i.jsx)(x.Z,{children:y[c]({chipProps:g,option:e})}):""},children:l.map(function(e){return(0,i.jsx)(p.Z,{value:e.value,children:Z[u]({chipProps:g,option:e,value:n})},e.value)})})),(null==m?void 0:m.helperText)&&(0,i.jsx)(f.Z,{children:m.helperText})]}))};j.defaultProps={label:"",onChange:function(){},leftSideLabel:!1,options:[],inputComponent:"text",selectComponent:"text",withoutSelectIcon:!1,formControl:{error:!1,helperText:""},chipProps:{size:"small"},selectProps:{}},j.propTypes={label:c().string,value:c().oneOfType([c().string,c().array]),onChange:c().func,leftSideLabel:c().bool,options:c().arrayOf(c().shape({label:c().string.isRequired,value:c().string.isRequired,color:c().string,bgcolor:c().string,icon:c().node}).isRequired),inputComponent:c().oneOf(["text","textWithIcon","chip"]),selectComponent:c().oneOf(["text","textWithIcon","chip","checkbox"]),withoutSelectIcon:c().bool,formControl:c().object,chipProps:c().object,selectProps:c().object};var w=(0,s.Z)(u.Z)(function(e){e.theme;var t=e.leftSideLabel,n=e.withoutSelectIcon;return{"&.MuiFormControl-root":(0,o.Z)({display:"flex",flexDirection:"column",alignItems:"flex-start"},t&&{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"}),"& .MuiSelect-icon":(0,o.Z)({},n&&{display:"none"})}}),C=(0,s.Z)(d.Z)(function(e){return{"&.MuiFormLabel-root.MuiInputLabel-root.Mui-focused":{color:e.theme.palette.secondary.main}}})},64277:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var o=function(e){switch(e){case"ppm":return"PM";case"quote":return"Q";case"reactive":return"J";case"cppm":return"C";default:return""}}},67797:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var o=n(85893),r=n(11994),i=n(67294);function a(){var e=(0,i.useState)(null),t=e[0],n=e[1],a=(0,i.useCallback)(function(){n(null)},[]),s=(0,i.useMemo)(function(){if(null===t)return null;var e=t.content,n=t.keepMounted;return(0,o.jsx)(r.Z,{open:!0,keepMounted:n,onClose:a,children:e})},[t,a]),l=(0,i.useCallback)(function(e){var t=e.content,o=e.keepMounted;n({keepMounted:void 0===o||o,content:t({onClose:a})})},[a]);return[s,l]}},34475:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eu}});var o=n(85893),r=n(26042),i=n(828),a=n(67294),s=n(30381),l=n.n(s),c=n(45697),u=n.n(c),d=n(81261),p=n(11057),h=n(2869),f=n(90629),m=n(51233),v=n(15861),x=n(6812),g=n(50319),b=n(7297),y=n(75063);function Z(){var e=(0,b.Z)(['\n  query GetTasksTable(\n    $where: Task_bool_exp\n    $limit: Int! = 50\n    $offset: Int\n    $orderBy: Task_order_by!\n  ) {\n    tasks: Task(where: $where, limit: $limit, offset: $offset, order_by: [$orderBy]) {\n      id\n      archived\n      status\n      priority\n      statusLog\n      meta\n      relatedLinks\n      title\n      content\n      dueDate\n      createdAt\n      updatedAt\n      adminId\n      userId\n      assignedAccountId\n      assignedUser: AssignedUser {\n        id\n        fullName\n      }\n      tags: Taxonomy(\n        where: {\n          entity: { _eq: "Task" }\n          Taxonomy: { status: { _eq: "active" }, type: { _eq: "tags" } }\n        }\n      ) {\n        id\n        tag: Taxonomy {\n          id\n          name\n          meta\n        }\n      }\n      jobId\n    }\n    meta: Task_aggregate(where: $where) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']);return Z=function(){return e},e}function j(){var e=(0,b.Z)(["\n  mutation TaskPartialUpdate($id: Int!, $object: Task_set_input!) {\n    update_Task_by_pk(pk_columns: { id: $id }, _set: $object) {\n      id\n      status\n      priority\n    }\n  }\n"]);return j=function(){return e},e}function w(){var e=(0,b.Z)(['\n  query GetTagsForTask($taskId: Int!, $q: String!, $limit: Int = 50, $offset: Int = 0) {\n    tags: Taxonomy(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: "active" }\n        type: { _eq: "tags" }\n        _not: { Taxonomy_Entities: { entity: { _eq: "Task" }, entityId: { _eq: $taskId } } }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']);return w=function(){return e},e}var C=(0,y.Ps)(Z()),T=(0,y.Ps)(j());(0,y.Ps)(w());var S=n(45451),k=n(91830),P=n(21830),M=n(79928),D=n(69396),I=n(86886),_=n(11994),E=n(50135),L=n(61730),A=n(23776),F=n(87918),Y=n(18972),R=n(50480),O=n(69368),N=n(45307),z=n(42283),q=n(73359),W=n(10166),$=n(74944),H=n(33754),B=n(61472),U=n(4585),V=n(57493),G=n(18531),Q=p.Z,X=I.ZP,J=function(e){var t=e.open,n=e.setOpen,s=e.initialFilters,l=e.filters,c=e.setFilters,u=(0,$.x)().user,d=(0,L.Z)("(max-width: 400px)")?4:0,p=(0,a.useState)(""),h=p[0],f=p[1],x=(0,i.Z)((0,N.X)("form_data_".concat(s.filterType),s),2),g=x[0],b=x[1],y=(0,z.cI)({defaultValues:g}),Z=y.control,j=y.handleSubmit,w=y.register,C=y.reset,T=(0,y.watch)(),S=(0,i.Z)((0,q.t)(V.A5,{variables:{accountId:u.adminId,q:""!==h?"%".concat(h,"%"):null}}),2),k=S[0],P=S[1],M=P.loading,I=P.data,_=(void 0===I?{items:[]}:I).items;(0,a.useEffect)(function(){t&&C(g)},[t]),(0,a.useEffect)(function(){b((0,D.Z)((0,r.Z)({},T),{filterType:s.filterType}))},[l]);var W=function(e){try{var t,o,i,a,s,l,d,p={status:(null===(t=e.status)||void 0===t?void 0:t.length)>0?null===(o=e.status)||void 0===o?void 0:o.map(function(e){return e.value}):null,assignedUserId:e.assignedToMe?u.id:null===(i=e.assignedUser)||void 0===i?void 0:i.value,priority:(null===(a=e.priority)||void 0===a?void 0:a.length)?null===(s=e.priority)||void 0===s?void 0:s.map(function(e){return e.value}):null,dueDate:e.dueDate,archived:e.archived,tags:(null===(l=e.tags)||void 0===l?void 0:l.length)>0?null===(d=e.tags)||void 0===d?void 0:d.map(function(e){return e.value}):null,q:e.search?"%".concat(e.search,"%"):null};c(function(e){return(0,r.Z)({},e,p)})}finally{n(!1)}},J=function(){c(s),C(s),n(!1)};return(0,o.jsx)(K,{keepMounted:!0,open:t,onClose:function(){return n(!1)},children:(0,o.jsx)("form",{onSubmit:j(W),children:(0,o.jsx)(ee,{children:(0,o.jsxs)(X,{container:!0,rowGap:4,children:[(0,o.jsx)(X,{container:!0,children:(0,o.jsx)(X,{item:!0,xs:12,children:(0,o.jsx)(E.Z,{fullWidth:!0,variant:"standard",color:"secondary",label:"Search...",name:"search",inputRef:w})})}),(0,o.jsxs)(X,{container:!0,columnSpacing:4,rowGap:d,children:[(0,o.jsx)(X,{item:!0,xs:12,xs2:6,children:(0,o.jsx)(z.Qr,{control:Z,name:"status",render:function(e){var t=e.value,n=e.onChange;return(0,o.jsx)(A.Z,{multiple:!0,limitTags:1,color:"secondary",options:B.jb,value:t||[],onChange:function(e,t){n(t)},renderOption:function(e,t){return(0,o.jsx)(Y.Z,(0,D.Z)((0,r.Z)({},e),{children:(0,o.jsx)(F.Z,{size:"small",label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}})}))},renderTags:function(e,t){return e.map(function(e,n){return(0,o.jsx)(F.Z,(0,r.Z)({size:"small",label:e.label,icon:e.icon,sx:{color:e.color,bgcolor:e.bgcolor}},t({index:n})))})},renderInput:function(e){return(0,o.jsx)(E.Z,(0,D.Z)((0,r.Z)({},e),{variant:"standard",color:"secondary",label:"Select status"}))}})}})}),(0,o.jsx)(X,{item:!0,xs:12,xs2:6,children:(0,o.jsx)(z.Qr,{name:"assignedUser",control:Z,render:function(e){var t=e.value,n=e.onChange;return(0,o.jsx)(G.q,{value:t,onChange:function(e,t){return n(t)},onOpen:function(){return k()},loading:M,options:_,setSearch:f,isOptionEqualToValue:function(e,t){return e.value===t.value},textFieldProps:{color:"secondary",variant:"standard",label:"Assigned to"}})}})})]}),(0,o.jsxs)(X,{container:!0,columnSpacing:4,rowGap:d,children:[(0,o.jsx)(X,{item:!0,xs:12,xs2:6,children:(0,o.jsx)(z.Qr,{control:Z,name:"priority",render:function(e){var t=e.value,n=e.onChange;return(0,o.jsx)(A.Z,{multiple:!0,limitTags:1,color:"secondary",options:B.FX,value:t||[],onChange:function(e,t){n(t)},renderOption:function(e,t,n){return(0,o.jsx)(Y.Z,(0,D.Z)((0,r.Z)({},e),{children:(0,o.jsxs)(m.Z,{direction:"row",alignItems:"center",spacing:1,children:[t.icon,(0,o.jsxs)(v.Z,{children:[" ",t.label]})]})}))},renderTags:function(e){return e.map(function(e){return(0,o.jsxs)(m.Z,{direction:"row",alignItems:"center",spacing:1,mr:1,children:[e.icon,(0,o.jsxs)(v.Z,{children:[" ",e.label]})]})})},renderInput:function(e){return(0,o.jsx)(E.Z,(0,D.Z)((0,r.Z)({},e),{variant:"standard",color:"secondary",label:"Select priority"}))}})}})}),(0,o.jsx)(X,{item:!0,xs:12,xs2:6,children:(0,o.jsx)(z.Qr,{control:Z,name:"dueDate",defaultValue:null,render:function(e){return(0,o.jsx)(H.M,(0,D.Z)((0,r.Z)({},e),{label:"Due date",inputFormat:"Do MMM YYYY",renderInput:function(e){return(0,o.jsx)(E.Z,(0,D.Z)((0,r.Z)({},e),{fullWidth:!0,color:"secondary",variant:"standard"}))}}))}})})]}),(0,o.jsx)(X,{container:!0,columnSpacing:4,rowGap:d,children:(0,o.jsx)(X,{item:!0,xs:12,xs2:6,children:(0,o.jsx)(U.r,{control:Z})})}),(0,o.jsxs)(X,{container:!0,columnSpacing:4,rowGap:d,children:[(0,o.jsx)(X,{item:!0,xs:12,xs2:6,children:(0,o.jsx)(z.Qr,{name:"assignedToMe",control:Z,render:function(e){var t=e.value,n=e.onChange;return(0,o.jsx)(R.Z,{control:(0,o.jsx)(O.Z,{color:"secondary",checked:t,onChange:function(e){return n(e.target.checked)}}),label:"Assigned to me"})}})}),(0,o.jsx)(X,{item:!0,xs:12,xs2:6,children:(0,o.jsx)(z.Qr,{name:"archived",control:Z,render:function(e){var t=e.value,n=e.onChange;return(0,o.jsx)(R.Z,{control:(0,o.jsx)(O.Z,{color:"secondary",checked:t,onChange:function(e){return n(e.target.checked)}}),label:"Show archived tasks"})}})})]}),(0,o.jsx)(X,{container:!0,item:!0,xs:12,children:(0,o.jsxs)(m.Z,{width:"100%",direction:"row",justifyContent:"flex-end",spacing:2,children:[(0,o.jsx)(Q,{variant:"contained",color:"danger",onClick:function(){return J()},children:"Cancel"}),(0,o.jsx)(Q,{variant:"contained",color:"secondary",type:"submit",children:"Search"})]})})]})})})})};J.defaultProps={open:!1,setOpen:function(){},initialFilters:{},filters:{},setFilters:function(){}},J.propTypes={open:u().bool,setOpen:u().func,initialFilters:u().object,filters:u().object,setFilters:u().func};var K=(0,W.Z)(_.Z)(function(){return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}}),ee=(0,W.Z)(f.Z)(function(){return{padding:"24px",maxWidth:"700px",maxHeight:"100vh",overflowY:"scroll"}}),et=n(62155),en=n(43759),eo=n(12632),er=n(74492),ei=function(e){var t=e.q,n=e.archived,o=e.status,i=e.priority,a=e.dueDate,s=e.assignedUserId,l=e.tags,c=e.limit,u=e.offset,d=e.orderBy;return{where:(0,r.Z)({_or:[{title:{_ilike:t}},{content:{_ilike:t}}],archived:{_eq:n},status:o?{_in:o}:{_nin:[B.cj.DONE]},priority:{_in:i},dueDate:{_eq:a},assignedUserId:{_eq:s}},l&&l.length>0&&{Taxonomy:{Taxonomy:{id:{_in:l}}}}),limit:c,offset:u,orderBy:d}},ea=n(34187),es=function(e){var t=e.initialFilters,n=(0,er.a)(),s=(0,a.useState)(!1),c=s[0],u=s[1],b=(0,a.useState)((0,r.Z)({},t)),y=b[0],Z=b[1],j=(0,eo.x)({filters:y}),w=j.initialData,D=j.ref,I=ei(w),_=(0,x.a)(C,{variables:I}),E=_.data,L=void 0===E?{tasks:[],meta:{aggregate:{totalCount:0}}}:E,A=L.tasks,F=L.meta,Y=_.loading,R=_.refetch,O=(0,i.Z)((0,g.D)(T,{refetchQueries:["GetTasksTable"]}),1)[0],N=(0,a.useCallback)(function(e){e.stopPropagation(),n.show({content:(0,o.jsx)(et.G,{close:n.close}),title:"Create Task",xs3:"100vw",sm:"100vw",sm2:"80vw",sm3:"70vw",md2:"60vw",lg:"50vw",lg2:"40vw"})},[n]),z=(0,a.useCallback)(function(e){n.show({content:(0,o.jsx)(en.J,{id:e.id,close:n.close}),title:"Task Details",xs3:"100vw",sm:"100vw",sm2:"100vw",sm3:"100vw",md2:"100vw",lg:"90vw",lg2:"80vw"})},[n]),q=(0,a.useCallback)(function(e){return function(t){t.stopPropagation(),O({variables:{id:e.id,object:{priority:t.target.value}}})}},[O]),W=(0,a.useCallback)(function(e){return function(t){t.stopPropagation(),O({variables:{id:e.id,object:{status:t.target.value}}})}},[O]),$=(0,a.useCallback)(function(e,t){O({variables:{id:e.id,object:{archived:t}}})},[O]),H=(0,a.useMemo)(function(){return[{minWidth:120,field:"priority",headerName:"Priority",sortable:!0,renderCell:function(e){var t=e.row;return(0,o.jsx)(k.P,{selectProps:{input:(0,o.jsx)(h.ZP,{})},withoutSelectIcon:!0,inputComponent:"textWithIcon",selectComponent:"textWithIcon",options:B.FX,value:t.priority,onChange:q(t)})}},{minWidth:200,flex:1,field:"title",headerName:"Task",sortable:!1,renderCell:function(e){var t=e.row;return(0,o.jsxs)(m.Z,{direction:"row",alignItems:"center",children:[(0,o.jsx)(v.Z,{mr:1,children:t.title}),(0,o.jsx)(M.K,{row:t,entity:"Task",refetchQueries:["GetTasksTable"]})]})}},{minWidth:160,field:"createdAt",headerName:"Created date",sortable:!0,renderCell:function(e){var t=e.row;return l()(t.createdAt).format("YYYY-MM-DD")}},{minWidth:160,field:"dueDate",headerName:"Due date",sortable:!0,renderCell:function(e){var t=e.row;return l()(t.dueDate).isSame(l()(),"day")?(0,o.jsx)(v.Z,{sx:{color:"info.main"},children:l()(t.dueDate).format("YYYY-MM-DD")}):l()(t.dueDate).isBefore(l()(),"day")?(0,o.jsx)(v.Z,{sx:{color:"danger.main"},children:l()(t.dueDate).format("YYYY-MM-DD")}):(0,o.jsx)(v.Z,{children:l()(t.dueDate).format("YYYY-MM-DD")})}},{minWidth:120,field:"assignedTo",headerName:"Assigned to",sortable:!0,sortName:'{"AssignedUser": {"nameFirst": "ORDER"}}'},{minWidth:120,field:"status",headerName:"Status",sortable:!0,renderCell:function(e){var t=e.row;return(0,o.jsx)(k.P,{selectProps:{input:(0,o.jsx)(h.ZP,{})},withoutSelectIcon:!0,inputComponent:"chip",selectComponent:"chip",options:B.jb,value:t.status,onChange:W(t)})}},{width:50,field:"actions",headerName:"Actions",sortable:!1,renderCell:function(e){var t=e.row;return(0,o.jsx)(P.C,{row:t,actionsData:function(e){var t=[];return t.push({icon:"info",onClick:function(t){t.stopPropagation(),z(e)},tooltip:"Info"}),e.archived?t.push({icon:"unarchive",onClick:function(t){t.stopPropagation(),$(e,!1)},tooltip:"Unarchive"}):t.push({icon:"archive",onClick:function(t){t.stopPropagation(),$(e,!0)},tooltip:"Archive"}),t}})}}]},[q,$,W,z]),U=(0,a.useMemo)(function(){return A.map(function(e){return{id:e.id,archived:e.archived,priority:e.priority,title:e.title,createdAt:e.createdAt,dueDate:e.dueDate,assignedTo:e.assignedUser.fullName,status:e.status,tags:e.tags}})},[A]),V=(0,a.useMemo)(function(){return{title:"No tasks to do!",subtitleFirstLine:"Congratulations! You don't have any tasks to complete.",subtitleSecondLine:"To create task for you or someone else, click the button below.",buttonText:"Create a task",onAction:N}},[N]);return(0,o.jsxs)(m.Z,{width:"100%",spacing:2,sx:{height:"calc(100% - 58px)"},children:[(0,o.jsxs)(m.Z,{width:"100%",direction:"row",justifyContent:"space-between",children:[(0,o.jsx)(p.Z,{variant:"contained",startIcon:(0,o.jsx)(d.Z,{}),onClick:function(){return u(!0)},children:"Filters"}),(0,o.jsx)(m.Z,{direction:"row",spacing:2,children:(0,o.jsx)(p.Z,{variant:"contained",color:"secondary",onClick:N,children:"Create Task"})})]}),(0,o.jsxs)(f.Z,{sx:{paddingTop:"16px",paddingBottom:"16px",height:"100%"},children:[(0,o.jsx)(m.Z,{direction:"row",justifyContent:"space-between",children:(0,o.jsx)(v.Z,{ml:2,variant:"h5",sx:{fontWeight:600},children:"Tasks"})}),(0,o.jsx)(J,{initialFilters:t,filters:y,setFilters:Z,open:c,setOpen:u}),U.length?(0,o.jsx)(S.i,{autoHeight:!1,ref:D,columns:H,rows:U,meta:F,refetch:R,onRowClick:z,containerHeight:"calc(100% - 32px)",columnVisibilityModel:{}}):!Y&&(0,o.jsx)(ea.C,(0,r.Z)({imageSrc:"/static/icons/no_tasks_found.svg"},V))]})]})};es.defaultProps={initialFilters:{}},es.propTypes={initialFilters:u().shape({archived:u().bool}).isRequired};var el=n(24716),ec=function(){return(0,o.jsx)(es,{initialFilters:{archived:!1,filterType:"task_table"}})};ec.getLayout=function(e){return(0,o.jsx)(el.Z,{children:e})};var eu=ec},58533:function(e,t,n){"use strict";var o=n(67294),r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a={Pixel:"Pixel",Percent:"Percent"},s={unit:a.Percent,value:.8};function l(e){return"number"==typeof e?{unit:a.Percent,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:a.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:a.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),s):(console.warn("scrollThreshold should be string or number"),s)}var c=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"==typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){!n.lastScrollTop&&(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){if(n.dragging)e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),!(n.currentY<n.startY)&&(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),!(n.currentY-n.startY>1.5*n.maxPullDownDistance)&&n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)"))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")})},n.onScrollListener=function(e){"function"==typeof n.props.onScroll&&setTimeout(function(){return n.props.onScroll&&n.props.onScroll(e)},0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;!n.actionTriggered&&((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=(function(e,t,n,o){var r,i=!1,a=0;function s(){r&&clearTimeout(r)}function l(){var l=this,c=Date.now()-a,u=arguments;function d(){a=Date.now(),n.apply(l,u)}!i&&(o&&!r&&d(),s(),void 0===o&&c>e?d():!0!==t&&(r=setTimeout(o?function(){r=void 0}:d,void 0===o?e-c:e)))}return"boolean"!=typeof t&&(o=n,n=t,t=void 0),l.cancel=function(){s(),i=!0},l})(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return!function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if(void 0===this.props.dataLength)throw Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?i(i({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,o=l(t);return o.unit===a.Pixel?e.scrollTop<=o.value+n-e.scrollHeight+1:e.scrollTop<=o.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,o=l(t);return o.unit===a.Pixel?e.scrollTop+n>=e.scrollHeight-o.value:e.scrollTop+n>=o.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=i({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return o.createElement("div",{style:r,className:"infinite-scroll-component__outerdiv"},o.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&o.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},o.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(o.Component);t.Z=c}},function(e){e.O(0,[3662,2283,212,8890,9511,2583,6310,4599,4135,8579,4244,7645,3776,2329,778,1023,3911,1417,9957,6540,3425,1870,5037,8062,1352,2429,9313,4211,2955,4716,6557,6937,8682,9774,2888,179],function(){return e(e.s=25702)}),_N_E=e.O()}]);