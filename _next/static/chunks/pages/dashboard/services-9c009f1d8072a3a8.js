(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2287,7493],{6553:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/services",function(){return t(56971)}])},19512:function(n,e,t){"use strict";t.d(e,{D:function(){return o}});var r=t(67294),i=t(21925),o=function(){var n=(0,r.useContext)(i.S);if(!n)throw Error("useSnackbarContext must be used within the SnackbarProvider");return n}},70768:function(n,e,t){"use strict";t.d(e,{I:function(){return f}});var r=t(26042),i=t(69396),o=t(99534),a=t(85893),u=t(5616),s=t(51233),c=t(50135),l=t(90948),d=t(15861),f=function(n){var e=n.leftLabel,t=n.rightLabel,u=n.error,c=(0,o.Z)(n,["leftLabel","rightLabel","error"]);return(0,a.jsxs)(s.Z,{direction:"row",alignItems:"center",children:[(0,a.jsx)(m,{sx:{borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px"},error:u,children:(0,a.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",whiteSpace:"nowrap"},children:e})}),(0,a.jsx)(p,(0,i.Z)((0,r.Z)({},c),{variant:"outlined",size:"small",error:u})),(0,a.jsx)(m,{sx:{borderTopRightRadius:"5px",borderBottomRightRadius:"5px"},error:u,children:(0,a.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",whiteSpace:"nowrap"},variant:"body2",fontWeight:700,children:t})})]})},m=(0,l.ZP)(u.Z)(function(n){var e=n.theme;return{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:n.error?e.palette.danger.main:"#D9D9D9",minwidth:"28px",height:"28px",padding:"0 5px"}}),p=(0,l.ZP)(c.Z)(function(n){var e=n.theme,t=n.error;return{height:"28px","& .MuiInputBase-root ":{borderRadius:"0px","&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:t?e.palette.danger.main:"#D9D9D9"}},"& .MuiInputBase-input":{padding:"2px 14px",borderColor:t?e.palette.danger.main:"#D9D9D9",borderStyle:"solid",borderBottomWidth:"2.5px",borderTopWidth:"2px"},"& .MuiOutlinedInput-notchedOutline":{border:"none"}}}})},21830:function(n,e,t){"use strict";t.d(e,{C:function(){return k}});var r=t(85893),i=t(67294),o=t(45697),a=t.n(o),u=t(93946),s=t(25464),c=t(18972),l=t(57976),d=t(73890),f=t(69008),m=t(41687),p=t(60888),h=t(40535),v=t(63441),g=t(41733),y=t(77957),b=t(2548),x=t(24519),$=t(2391),_=t(69308),q=t(79369),I=t(22961),Z=t(28201),S=t(51233),C=t(15861),P={add:(0,r.jsx)(m.Z,{}),archive:(0,r.jsx)(d.Z,{}),avatar:(0,r.jsx)(Z.Z,{}),check:(0,r.jsx)(p.Z,{}),delete:(0,r.jsx)(g.Z,{}),description:(0,r.jsx)(h.Z,{}),download:(0,r.jsx)(v.Z,{}),info:(0,r.jsx)(b.Z,{}),edit:(0,r.jsx)(y.Z,{}),location:(0,r.jsx)(_.Z,{}),unarchive:(0,r.jsx)(f.Z,{}),uploadFile:(0,r.jsx)(x.Z,{}),receipt:(0,r.jsx)($.Z,{}),visibility:(0,r.jsx)(I.Z,{})},w={default:(0,r.jsx)(l.Z,{}),defaultHoriz:(0,r.jsx)(q.Z,{}),description:(0,r.jsx)(h.Z,{})},k=function(n){var e=n.actionsData,t=n.icon,o=n.row,a=n.disabled,l=(0,i.useState)(null),d=l[0],f=l[1],m=function(n){n.stopPropagation(),f(n.currentTarget)},p=function(){f(null)};return(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Z,{sx:{":hover":{backgroundColor:"#DDDDDD"}},disabled:a,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:m,children:w[t]}),(0,r.jsx)(s.Z,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:p,PaperProps:{sx:{borderRadius:2}},children:e(o).map(function(n,e){return(0,r.jsx)(c.Z,{disabled:n.disabled,onClick:function(e){n.onClick(e),p()},sx:{pl:3,pr:4},children:(0,r.jsxs)(S.Z,{direction:"row",alignItems:"center",spacing:2,children:[(null==P?void 0:P[n.icon])||null,(0,r.jsx)(C.Z,{children:n.tooltip})]})},e)})})]})};k.propTypes={actionsData:a().func.isRequired,icon:a().oneOf(["default","description"]),row:a().any.isRequired,disabled:a().bool},k.defaultProps={actionsData:function(){return[{disabled:!1,onClick:function(){},icon:"edit",tooltip:"Edit"}]},icon:"default",disabled:!1}},18531:function(n,e,t){"use strict";t.d(e,{q:function(){return p}});var r=t(26042),i=t(69396),o=t(99534),a=t(85893),u=t(87918),s=t(98456),c=t(23776),l=t(50135),d=t(67294),f=t(45697),m=t.n(f),p=function(n){var e=n.loading,t=n.setSearch,f=n.textFieldProps,m=(n.disableClearable,(0,o.Z)(n,["loading","setSearch","textFieldProps","disableClearable"])),p=(0,d.useState)(""),h=p[0],v=p[1];return(0,d.useEffect)(function(){var n=setTimeout(function(){t(h)},500);return function(){return clearTimeout(n)}},[h,t]),(0,a.jsx)(c.Z,(0,i.Z)((0,r.Z)({isOptionEqualToValue:function(n,e){return n.value===e.value}},m),{loading:e,onInputChange:function(n,e){v(e)},getOptionLabel:function(n){return"".concat(n.label)},renderTags:function(n,e){return n.map(function(n,t){return(0,a.jsx)(u.Z,(0,r.Z)({size:"small",label:n.label},e({index:t})))})},renderInput:function(n){return(0,a.jsx)(l.Z,(0,i.Z)((0,r.Z)({},n,f),{InputProps:(0,i.Z)((0,r.Z)({},n.InputProps,f.InputProps||{}),{endAdornment:(0,a.jsxs)(a.Fragment,{children:[e?(0,a.jsx)(s.Z,{color:"inherit",size:20}):null,n.InputProps.endAdornment]})})}))}}))};p.defaultProps={color:"secondary",onChange:function(){},options:[],onOpen:function(){},setSearch:function(){},textFieldProps:{}},p.propTypes={multiple:m().bool,limitTags:m().number,filterSelectedOptions:m().bool,color:m().string,loading:m().bool,value:m().oneOf([m().array,m().object]),onChange:m().func,options:m().arrayOf(m().shape({value:m().any.isRequired,label:m().string.isRequired})).isRequired,onOpen:m().func,setSearch:m().func,textFieldProps:m().shape({label:m().string,variant:m().oneOf(["standard"]),color:m().string,error:m().bool,helperText:m().string})}},57493:function(n,e,t){"use strict";t.d(e,{A5:function(){return nu},Ak:function(){return B},Cj:function(){return X},K4:function(){return nr},Oq:function(){return na},Qn:function(){return O},RJ:function(){return V},SW:function(){return R},T_:function(){return W},UH:function(){return A},UM:function(){return ne},Ve:function(){return Q},_d:function(){return E},_f:function(){return nt},by:function(){return J},cz:function(){return F},he:function(){return U},j$:function(){return H},kB:function(){return Y},kx:function(){return N},nD:function(){return D},nP:function(){return no},pY:function(){return ni},qd:function(){return L},t1:function(){return z},yR:function(){return K},zR:function(){return nn}});var r=t(7297),i=t(75063);function o(){var n=(0,r.Z)(["\n  query GetAddressForSelect($q: String, $entity: String!, $entityId: Int!) {\n    items: Address(\n      where: {\n        Address_Entities: { entity: { _eq: $entity }, entityId: { _eq: $entityId } }\n        _or: [\n          { addressLine1: { _eq: $q } }\n          { addressLine2: { _eq: $q } }\n          { addressLine3: { _eq: $q } }\n          { county: { _eq: $q } }\n          { postCode: { _eq: $q } }\n          { city: { _eq: $q } }\n        ]\n      }\n    ) {\n      label: addressLine1\n      value: id\n      id\n      name\n      addressLine1\n      addressLine2\n      addressLine3\n      postCode\n      county\n      country: Country {\n        name\n      }\n      city\n      Address_Entities {\n        invoice\n      }\n    }\n  }\n"]);return o=function(){return n},n}function a(){var n=(0,r.Z)(["\n  query GetAccountsForSelect($q: String, $type: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: $type } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]);return a=function(){return n},n}function u(){var n=(0,r.Z)(['\n  query GetTaxonomy($q: String, $id: Int) {\n    items: Taxonomy(\n      where: { type: { _eq: "assetCategory" }, status: { _eq: "active" } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      options: Taxonomies(\n        where: {\n          type: { _eq: "assetCategory" }\n          name: { _ilike: $q }\n          id: { _eq: $id }\n          status: { _eq: "active" }\n        }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']);return u=function(){return n},n}function s(){var n=(0,r.Z)(["\n  query GetAssetsForSelect(\n    $locationId: Int\n    $q: String\n    $categoryId: Int\n    $bookable: String\n    $limit: Int\n    $offset: Int\n  ) {\n    items: Asset(\n      where: {\n        categoryId: { _eq: $categoryId }\n        locationId: { _eq: $locationId }\n        name: { _ilike: $q }\n        bookable: { _eq: $bookable }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n      sublocation: Sublocation {\n        name\n      }\n    }\n  }\n"]);return s=function(){return n},n}function c(){var n=(0,r.Z)(['\n  query GetCustomersForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: "customer" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      admin: Admins {\n        id: adminId\n      }\n      label: name\n      spendThreshold: meta(path: "$.finance.spendThreshold")\n      serviceRateLabour: meta(path: "$.finance.serviceRateLabour")\n      serviceRateExpenses: meta(path: "$.finance.serviceRateExpenses")\n      value: id\n    }\n  }\n']);return c=function(){return n},n}function l(){var n=(0,r.Z)(["\n  query GetJobsForSelect($_q: Int, $locationId: Int) {\n    items: Job(\n      where: {\n        Location: { id: { _eq: $locationId } }\n        _or: [{ id: { _eq: $_q } }, { Invoices: { id: { _eq: $_q } } }]\n      }\n      order_by: { title: asc }\n    ) {\n      label: label\n      value: id\n      number\n      createdAt\n      description\n      status\n      timingStart\n      title\n      type\n      Location {\n        name\n      }\n      Taxonomy {\n        Taxonomy {\n          shortJobDescription: name\n        }\n      }\n    }\n  }\n"]);return l=function(){return n},n}function d(){var n=(0,r.Z)(['\n  query GetManagersForSelect($userId: Int, $accountId: Int!, $q: String) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          role: { _in: ["owner", "manager"] }\n          status: { _eq: "active" }\n          Account: { id: { _eq: $accountId } }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        id: { _neq: $userId }\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']);return d=function(){return n},n}function f(){var n=(0,r.Z)(['\n  query GetManagersForSelect(\n    $userId: Int\n    $accountId: Int!\n    $q: String\n    $invoiceThreshold: numeric\n    $quoteThreshold: numeric\n  ) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          role: { _in: ["owner", "manager"] }\n          status: { _eq: "active" }\n          Account: { id: { _eq: $accountId } }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        id: { _neq: $userId }\n        _and: [\n          {\n            _or: [\n              { invoiceThreshold: { _gt: $invoiceThreshold } }\n              { invoiceThreshold: { _is_null: true } }\n            ]\n          }\n          {\n            _or: [\n              { quoteThreshold: { _gt: $quoteThreshold } }\n              { quoteThreshold: { _is_null: true } }\n            ]\n          }\n        ]\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']);return f=function(){return n},n}function m(){var n=(0,r.Z)(["\n  query GetPostCodeAreaForSelect($countryId: Int, $q: String) {\n    items: PostcodeArea(\n      where: { name: { _ilike: $q }, countryId: { _eq: $countryId } }\n      order_by: { name: asc }\n    ) {\n      area\n      label: name\n      value: id\n    }\n  }\n"]);return m=function(){return n},n}function p(){var n=(0,r.Z)(['\n  query GetPropertiesForSelect($where: Location_bool_exp, $limit: Int, $offset: Int) {\n    items: Location(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      label: name\n      value: id\n      access\n      permitsRequired\n      registeredAddress: Addresses(\n        where: { entity: { _eq: "Location" }, registered: { _eq: true } }\n      ) {\n        address: Address {\n          id\n          addressLine1\n          addressLine2\n          addressLine3\n          county\n          country: Country {\n            name\n          }\n          postCode\n          city\n        }\n      }\n    }\n  }\n']);return p=function(){return n},n}function h(){var n=(0,r.Z)(['\n  query GetServicesForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Service(\n      where: { name: { _ilike: $q }, status: { _eq: "active" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']);return h=function(){return n},n}function v(){var n=(0,r.Z)(["\n  query GetSlasForSelect($q: String, $adminId: Int, $type: String, $subtype: sla_subtype) {\n    items: SLA(\n      where: {\n        name: { _ilike: $q }\n        type: { _eq: $type }\n        adminId: { _eq: $adminId }\n        subtype: { _eq: $subtype }\n      }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]);return v=function(){return n},n}function g(){var n=(0,r.Z)(["\n  query GetSlasForSelectNew($where: SLA_bool_exp, $limit: Int, $offset: Int) {\n    items: SLA(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      label: name\n      value: id\n    }\n  }\n"]);return g=function(){return n},n}function y(){var n=(0,r.Z)(["\n  query GetSuppliersForSelect($where: Account_bool_exp, $limit: Int, $offset: Int) {\n    items: Account(where: $where, limit: $limit, offset: $offset, order_by: { name: asc }) {\n      label: name\n      value: id\n    }\n  }\n"]);return y=function(){return n},n}function b(){var n=(0,r.Z)(['\n  query GetUsersForSelect($accountId: Int, $q: String, $limit: Int, $offset: Int) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          accountId: { _eq: $accountId }\n          isContact: { _eq: true }\n          status: { _eq: "active" }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      order_by: { nameFirst: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      label: fullName\n      value: id\n      email\n      phone\n    }\n  }\n']);return b=function(){return n},n}function x(){var n=(0,r.Z)(['\n  query GetUsersForSelect($q: String) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n      email\n      phone\n    }\n  }\n']);return x=function(){return n},n}function $(){var n=(0,r.Z)(["\n  query GetTaxonomyGroupForSelect($q: String, $type: String!) {\n    items: Taxonomy(\n      where: { isGroup: { _eq: true }, name: { _ilike: $q }, type: { _eq: $type } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]);return $=function(){return n},n}function _(){var n=(0,r.Z)(['\n  query GetTaxonomy($q: String) {\n    items: Taxonomy(where: { type: { _eq: "expenseCategoryGroup" } }, order_by: { name: asc }) {\n      label: name\n      options: Taxonomies(\n        where: { type: { _eq: "expenseCategory" }, name: { _ilike: $q } }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']);return _=function(){return n},n}function q(){var n=(0,r.Z)(["\n  query GetUserRole($userId: Int!, $accountId: Int!) {\n    accountUsers: Account_User(\n      where: { userId: { _eq: $userId }, accountId: { _eq: $accountId } }\n    ) {\n      role\n    }\n  }\n"]);return q=function(){return n},n}function I(){var n=(0,r.Z)(["\n  query GetSublocationsForSelect($locationId: Int!, $q: String, $limit: Int, $offset: Int) {\n    items: Sublocation(\n      where: { name: { _ilike: $q }, locationId: { _eq: $locationId }, active: { _eq: true } }\n      limit: $limit\n      offset: $offset\n      order_by: { createdAt: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n"]);return I=function(){return n},n}function Z(){var n=(0,r.Z)(['\n  query GetTaxonomy($q: String, $limit: Int, $offset: Int) {\n    items: Taxonomy(\n      where: {\n        type: { _eq: "assetCategory" }\n        isGroup: { _eq: false }\n        status: { _eq: "active" }\n        name: { _ilike: $q }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']);return Z=function(){return n},n}function S(){var n=(0,r.Z)(["\n  query GetTaxonomyForSelect(\n    $where: Taxonomy_bool_exp\n    $limit: Int\n    $offset: Int\n    $orderBy: Taxonomy_order_by!\n    $includeMeta: Boolean! = false\n  ) {\n    items: Taxonomy(where: $where, limit: $limit, offset: $offset, order_by: [$orderBy]) {\n      value: id\n      label: name\n      meta @include(if: $includeMeta)\n    }\n  }\n"]);return S=function(){return n},n}function C(){var n=(0,r.Z)(['\n  query GetTagsForTask($q: String!, $limit: Int = 50, $offset: Int = 0) {\n    items: Taxonomy(\n      where: { name: { _ilike: $q }, status: { _eq: "active" }, type: { _eq: "taskTags" } }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n']);return C=function(){return n},n}function P(){var n=(0,r.Z)(['\n  query GetTagsForEntity(\n    $entityId: Int\n    $entity: String!\n    $q: String!\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    tags: Taxonomy(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: "active" }\n        type: { _eq: "taskTags" }\n        _not: { Taxonomy_Entities: { entity: { _eq: $entity }, entityId: { _eq: $entityId } } }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']);return P=function(){return n},n}function w(){var n=(0,r.Z)(['\n  query GetEntityTags($entityId: Int!, $entity: String!) {\n    tags: Taxonomy_Entity(\n      where: {\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n        Taxonomy: { status: { _eq: "active" }, type: { _eq: "taskTags" } }\n      }\n      order_by: { id: desc }\n    ) {\n      id\n      tag: Taxonomy {\n        id\n        name\n        meta\n      }\n    }\n  }\n']);return w=function(){return n},n}function k(){var n=(0,r.Z)(["\n  query GetCustomerManagers($accountId: Int, $q: String, $limit: Int, $offset: Int) {\n    items: User(\n      where: { Account_Users: { accountId: { _eq: $accountId } }, fullName: { _ilike: $q } }\n      order_by: { fullName: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n"]);return k=function(){return n},n}function j(){var n=(0,r.Z)(["\n  query GetServiceSchedulesForSelect(\n    $q: String\n    $serviceId: Int\n    $entity: service_schedule_entity\n    $entityId: Int\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    items: ServiceSchedule(\n      where: {\n        name: { _ilike: $q }\n        serviceId: { _eq: $serviceId }\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]);return j=function(){return n},n}function M(){var n=(0,r.Z)(['\n  query GetPropertyById($id: Int!) {\n    item: Location_by_pk(id: $id) {\n      label: name\n      value: id\n      access\n      registeredAddress: Addresses(\n        where: { entity: { _eq: "Location" }, registered: { _eq: true } }\n      ) {\n        address: Address {\n          id\n          addressLine1\n          addressLine2\n          addressLine3\n          county\n          country: Country {\n            name\n            code\n          }\n          postCode\n          city\n        }\n      }\n    }\n  }\n']);return M=function(){return n},n}function T(){var n=(0,r.Z)(["\n  query GetCompliancesForSelectNew($q: String, $locationId: Int, $limit: Int, $offset: Int) {\n    items: Compliance(\n      where: { name: { _ilike: $q }, locationId: { _eq: $locationId } }\n      order_by: { name: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      value: id\n      label: name\n      category: ComplianceCategory {\n        label: name\n      }\n    }\n  }\n"]);return T=function(){return n},n}function G(){var n=(0,r.Z)(['\n  query GetTaskAssignedToForSelect(\n    $accountId: Int\n    $q: String\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: { accountId: { _eq: $accountId }, status: { _eq: "active" } }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']);return G=function(){return n},n}var F=(0,i.Ps)(o()),L=(0,i.Ps)(a()),D=(0,i.Ps)(u()),A=(0,i.Ps)(s()),R=(0,i.Ps)(c()),O=(0,i.Ps)(l()),U=(0,i.Ps)(d()),B=(0,i.Ps)(f()),H=(0,i.Ps)(m()),E=(0,i.Ps)(p()),N=(0,i.Ps)(h()),z=(0,i.Ps)(v()),W=(0,i.Ps)(g()),J=(0,i.Ps)(y()),K=(0,i.Ps)(b()),V=(0,i.Ps)(x()),X=(0,i.Ps)($()),Q=(0,i.Ps)(_()),Y=(0,i.Ps)(q()),nn=(0,i.Ps)(I()),ne=(0,i.Ps)(Z()),nt=(0,i.Ps)(S());(0,i.Ps)(C()),(0,i.Ps)(P()),(0,i.Ps)(w());var nr=(0,i.Ps)(k()),ni=(0,i.Ps)(j()),no=(0,i.Ps)(M()),na=(0,i.Ps)(T()),nu=(0,i.Ps)(G())},91830:function(n,e,t){"use strict";t.d(e,{P:function(){return _}});var r=t(26042),i=t(69396),o=t(85893),a=t(67294),u=t(10166),s=t(45697),c=t.n(s),l=t(94054),d=t(47312),f=t(18972),m=t(18360),p=t(56815),h=t(51233),v=t(15861),g=t(5616),y=t(87918),b=t(69368),x={text:function(n){var e=n.option,t=n.multiple,r=n.index;return t&&r>0?", ".concat(e.label):e.label},textWithIcon:function(n){var e=n.option;return(0,o.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:1,children:[e.icon,(0,o.jsxs)(v.Z,{children:[" ",e.label]})]})},chip:function(n){var e=n.chipProps,t=n.option;return(0,a.createElement)(y.Z,(0,i.Z)((0,r.Z)({},e),{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))}},$={text:function(n){return n.option.label},textWithIcon:function(n){var e=n.option;return(0,o.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:1,children:[e.icon,(0,o.jsxs)(v.Z,{children:[" ",e.label]})]})},chip:function(n){var e=n.chipProps,t=n.option;return(0,a.createElement)(y.Z,(0,i.Z)((0,r.Z)({},e),{key:t.value,label:t.label,icon:t.icon,sx:{color:t.color,bgcolor:t.bgcolor}}))},checkbox:function(n){var e=n.option,t=n.value;return(0,o.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,o.jsx)(b.Z,{color:"secondary",sx:{height:"10px"},checked:t.indexOf(e.value)>-1}),(0,o.jsxs)(v.Z,{children:[" ",e.label]})]})}},_=function(n){var e=n.label,t=n.value,a=n.onChange,u=n.leftSideLabel,s=n.options,c=n.inputComponent,l=n.selectComponent,d=n.withoutSelectIcon,h=n.formControl,y=n.chipProps,b=n.selectProps,_=function(n){return s.find(function(e){return e.value===n})};return(0,o.jsxs)(q,(0,i.Z)((0,r.Z)({},h),{leftSideLabel:u,withoutSelectIcon:d,children:[e&&u&&(0,o.jsx)(v.Z,{children:e}),e&&!u&&(0,o.jsx)(I,{shrink:""!==t&&void 0!==t,children:e}),(0,o.jsx)(m.Z,(0,i.Z)((0,r.Z)({displayEmpty:!0},b),{value:t,onChange:a,inputProps:{shrink:!0},renderValue:function(){if(Array.isArray(t))return(0,o.jsx)(g.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.map(function(n,e){var t=_(n);return t?x[c]({chipProps:y,option:t,multiple:!0,index:e}):""})});var n=_(t);return n?(0,o.jsx)(g.Z,{children:x[c]({chipProps:y,option:n})}):""},children:s.map(function(n){return(0,o.jsx)(f.Z,{value:n.value,children:$[l]({chipProps:y,option:n,value:t})},n.value)})})),(null==h?void 0:h.helperText)&&(0,o.jsx)(p.Z,{children:h.helperText})]}))};_.defaultProps={label:"",onChange:function(){},leftSideLabel:!1,options:[],inputComponent:"text",selectComponent:"text",withoutSelectIcon:!1,formControl:{error:!1,helperText:""},chipProps:{size:"small"},selectProps:{}},_.propTypes={label:c().string,value:c().oneOfType([c().string,c().array]),onChange:c().func,leftSideLabel:c().bool,options:c().arrayOf(c().shape({label:c().string.isRequired,value:c().string.isRequired,color:c().string,bgcolor:c().string,icon:c().node}).isRequired),inputComponent:c().oneOf(["text","textWithIcon","chip"]),selectComponent:c().oneOf(["text","textWithIcon","chip","checkbox"]),withoutSelectIcon:c().bool,formControl:c().object,chipProps:c().object,selectProps:c().object};var q=(0,u.Z)(l.Z)(function(n){n.theme;var e=n.leftSideLabel,t=n.withoutSelectIcon;return{"&.MuiFormControl-root":(0,r.Z)({display:"flex",flexDirection:"column",alignItems:"flex-start"},e&&{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"}),"& .MuiSelect-icon":(0,r.Z)({},t&&{display:"none"})}}),I=(0,u.Z)(d.Z)(function(n){return{"&.MuiFormLabel-root.MuiInputLabel-root.Mui-focused":{color:n.theme.palette.secondary.main}}})},86858:function(n,e,t){"use strict";t.d(e,{x:function(){return c}});var r=t(26042),i=t(69396),o=t(99534),a=t(85893),u=t(90948),s=t(5616),c=function(n){var e=n.children,t=n.value,u=n.index,c=n.boxProps,d=n.boxSx,f=(0,o.Z)(n,["children","value","index","boxProps","boxSx"]);return(0,a.jsx)(l,(0,i.Z)((0,r.Z)({role:"tabpanel",hidden:t!==u,id:"simple-tabpanel-".concat(u),"aria-labelledby":"simple-tab-".concat(u)},f),{children:t===u&&(0,a.jsx)(s.Z,(0,i.Z)((0,r.Z)({},c),{sx:(0,r.Z)({padding:"25px 0"},d),children:e}))}))};c.defaultProps={boxProps:{},boxSx:{}};var l=(0,u.ZP)(s.Z)(function(){return{"& .MuiTabs-root":{}}})},45451:function(n,e,t){"use strict";t.d(e,{i:function(){return Z}});var r=t(14924),i=t(26042),o=t(69396),a=t(85893),u=t(67294),s=t(11163),c=t(45697),l=t.n(c),d=t(61870),f=t(5616),m=t(51233),p=t(15861),h=t(90948),v=t(41796),g=t(29217),y=t(45111),b=t(98209),x=t(70872),$=t(58886),_=t(61730),q=function(n){var e=n.currentPage,t=n.totalCount,r=n.pageSize,o=n.onPageChange,u=(0,_.Z)("(max-width:400px)"),s=(0,_.Z)("(max-width:500px)");return(0,a.jsx)(I,{mb:2,page:e,count:Math.ceil(t/r),onChange:function(n,e){return o(e)},variant:"outlined",shape:"rounded",size:u?"small":"medium",hidePrevButton:1===e,hideNextButton:e===Math.ceil(t/r),siblingCount:s?0:1,renderItem:function(n){return(0,a.jsx)($.Z,(0,i.Z)({slots:{previous:function(){return"Previous"},next:function(){return"Next"}}},n))}})};q.defaultProps={currentPage:1,totalCount:0,pageSize:50,onPageChange:function(){}},q.propTypes={currentPage:l().number,totalCount:l().number,pageSize:l().number,onPageChange:l().func};var I=(0,h.ZP)(x.Z)(function(n){var e,t=n.hidePrevButton,o=n.hideNextButton,a=n.theme;return e={},(0,r.Z)(e,"&.MuiPagination-root",{alignSelf:"center",marginTop:"16px"}),(0,r.Z)(e,"& .MuiPaginationItem-root",{fontWeight:600,margin:0,borderRadius:0}),(0,r.Z)(e,"& .MuiPagination-ul > li:last-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"0 5px 5px 0"}),(0,r.Z)(e,"& .MuiPagination-ul > li:first-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"5px 0 0 5px"}),(0,r.Z)(e,"& button.Mui-selected",(0,i.Z)({color:a.palette.white.main,backgroundColor:a.palette.secondary.main},o?{borderRadius:"0 5px 5px 0"}:{},t?{borderRadius:"5px 0 0 5px"}:{})),e}),Z=(0,u.forwardRef)(function(n,e){var t=n.columns,r=n.history,o=n.initialSort,c=n.meta,l=n.refetch,d=n.paginationSize,f=n.containerHeight,h=n.containerMaxHeight,v=n.noResultsMessage,x=n.autoHeight,$=(0,s.useRouter)(),_=$.query,I=void 0===_?{}:_,Z=(0,u.useState)(parseInt(null==I?void 0:I.page,10)||1),P=Z[0],w=Z[1],k=(0,u.useState)(d||b.C1.paginationSize),j=k[0],M=k[1],T=o;T||(T={item:"createdAt",order:"desc"});var G=(0,u.useState)({item:T.item,order:T.order}),F=G[0],L=G[1],D=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=$.query,t=void 0===e?{}:e;if(n>1?t.page=n:delete t.page,!(Object.keys(t).length>0))return{};var r=Object.keys(t).map(function(e){return"page"===e?"".concat(e,"=").concat(n):"".concat(e,"=").concat(t[e])}).join("&");return"?".concat(r)},A=function(){L({item:T.item,order:T.order}),w(1);var n=D();$.push(n),M(d||b.C1.paginationSize)};(0,u.useImperativeHandle)(e,function(){return{currentPage:P,pageSize:j,sort:F,resetPagination:function(){A()}}});var R=function(n){var e=D(n);r&&$.push(e),w(n),!r&&l&&l()},O=function(n){n&&n.field&&n.sort?(L({item:t.find(function(e){return e.field===n.field}).sortName||n.field||n.item||T.item,order:n.sort||n.order||T.order}),l&&l()):(L({item:T.item,order:T.order}),l&&l())};return(0,a.jsxs)(S,{containerHeight:f,containerMaxHeight:h,children:[(0,a.jsx)(C,(0,i.Z)({hideFooter:!0,disableColumnMenu:!0,disableSelectionOnClick:!0,autoHeight:x,sortingMode:"server",onSortModelChange:function(n){return O(n[0])},columns:t,pageSize:j,slots:{columnSortedAscendingIcon:function(){return(0,a.jsx)(g.Z,{})},columnSortedDescendingIcon:function(){return(0,a.jsx)(y.Z,{})},columnUnsortedIcon:function(){return(0,a.jsxs)(m.Z,{alignItems:"center",sx:{width:"33px"},children:[(0,a.jsx)(g.Z,{sx:{marginBottom:"-15px"}}),(0,a.jsx)(y.Z,{})]})},noResultsOverlay:function(){return(0,a.jsx)(m.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,a.jsx)(p.Z,{children:v})})},noRowsOverlay:function(){return(0,a.jsx)(m.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,a.jsx)(p.Z,{children:v})})}}},n)),c&&Math.ceil(c.aggregate.totalCount/j)>1&&(0,a.jsx)(q,{currentPage:P,totalCount:c.aggregate.totalCount,pageSize:j,onPageChange:R})]})});Z.propTypes={history:l().bool,initialSort:l().object,loading:l().bool,meta:l().object,refetch:l().func,paginationSize:l().number,noResultsMessage:l().string,columns:l().array.isRequired,rows:l().array.isRequired,autoHeight:l().bool},Z.defaultProps={columns:[],history:!1,loading:!1,rows:[],noResultsMessage:"There are no results.",autoHeight:!0};var S=(0,h.ZP)(f.Z)(function(n){var e;return{height:n.containerHeight,maxHeight:n.containerMaxHeight,display:"flex",flexDirection:"column"}}),C=(0,h.ZP)(d.s)(function(n){var e,t=n.theme,a=n.hideHeader,u=(n.rows,n.loading,n.rowHeight),s=n.isPdf;return e={"--DataGrid-overlayHeight":"40px"},(0,r.Z)(e,"&.MuiDataGrid-root",(0,i.Z)({color:t.palette.black.main,border:"none"},s&&{"@media print":{display:"block"}})),(0,r.Z)(e,"& .MuiDataGrid-main",(0,i.Z)({},s&&{"@media print":{overflow:"visible !important"}})),(0,r.Z)(e,"& .MuiDataGrid-columnHeaders",(0,o.Z)((0,i.Z)({},a&&{display:"none"}),{"& .MuiDataGrid-iconButtonContainer":{visibility:"visible","& .MuiButtonBase-root.MuiIconButton-root":{backgroundColor:"inherit",color:t.palette.black.main,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}}}})),(0,r.Z)(e,"& .MuiDataGrid-virtualScroller",(0,i.Z)({},a&&{marginTop:"0 !important"},s&&{"@media print":{overflow:"visible !important"}})),(0,r.Z)(e,"& .MuiDataGrid-iconSeparator",{opacity:0}),(0,r.Z)(e,"& .MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,r.Z)(e,"& .MuiButtonBase-root.MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,r.Z)(e,"& .MuiDataGrid-virtualScrollerContent",(0,i.Z)({},s&&{height:"initial !important",minHeight:"initial !important"})),(0,r.Z)(e,"& .MuiDataGrid-virtualScrollerRenderZone",(0,i.Z)({},s&&{position:"relative"})),(0,r.Z)(e,"& .MuiDataGrid-overlayWrapper",(0,r.Z)({},"& .MuiCircularProgress-root",{color:t.palette.secondary.main})),(0,r.Z)(e,"& .MuiDataGrid-row",(0,i.Z)({},s&&{minHeight:"".concat(u,"cm !important"),maxHeight:"".concat(u,"cm !important")})),(0,r.Z)(e,"& .MuiDataGrid-row > .MuiDataGrid-cell",(0,i.Z)({},s&&{minHeight:"".concat(u,"cm !important"),maxHeight:"".concat(u,"cm !important")})),(0,r.Z)(e,"& .MuiDataGrid-columnHeaderCheckbox",(0,r.Z)({},"& .MuiButtonBase-root.MuiCheckbox-root > .MuiSvgIcon-root",(0,r.Z)({color:t.palette.secondary.main},'&[data-testid="CheckBoxOutlineBlankIcon"]',{color:"currentColor"}))),(0,r.Z)(e,"& .MuiDataGrid-row > .MuiDataGrid-cellCheckbox",(0,r.Z)({},"& .MuiButtonBase-root.MuiCheckbox-root > .MuiSvgIcon-root",(0,r.Z)({color:t.palette.secondary.main},'&[data-testid="CheckBoxOutlineBlankIcon"]',{color:"currentColor"}))),(0,r.Z)(e,"& .MuiDataGrid-row.even",{backgroundColor:t.palette.muiLightGray.main,"&:hover, &.Mui-hovered":{backgroundColor:(0,v.Fq)(t.palette.muiLightGray.main,.3),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,v.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,v.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,v.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity)}}}}),e})},12632:function(n,e,t){"use strict";t.d(e,{x:function(){return l}});var r=t(14924),i=t(26042),o=t(69396),a=t(67294),u=t(96486),s=t(98209),c=t(59577),l=function(n){var e,t,l,d,f,m,p,h,v,g,y,b=n.filters,x=n.newFilters,$=n.initialSort,_=(0,a.useRef)(),q=(0,a.useState)({}),I=q[0],Z=q[1],S=(0,a.useState)({}),C=S[0],P=S[1],w=$||{item:"createdAt",order:"desc"},k=(0,r.Z)({},(null===(e=_.current)||void 0===e?void 0:e.sort.item)||w.item,w.inneritem?(0,r.Z)({},w.inneritem,(null===(t=_.current)||void 0===t?void 0:t.sort.order)||w.order):(null===(l=_.current)||void 0===l?void 0:l.sort.order)||w.order);return(0,a.useEffect)(function(){var n=!(0,u.isEqual)(I,b),e=!(0,u.isEqual)(C,x);if(n&&(Z(b),null==_||null===(r=_.current)||void 0===r||r.resetPagination()),e&&(P(x),null==_||null===(i=_.current)||void 0===i||i.resetPagination()),(null==_?void 0:null===(t=_.current)||void 0===t?void 0:t.setSort)&&!(n||e)){var t,r,i,o,a,s,c,l,d,f,m,p=(null===(o=_.current)||void 0===o?void 0:null===(a=o.sort)||void 0===a?void 0:a.item)&&(null===(s=_.current)||void 0===s?void 0:null===(c=s.sort)||void 0===c?void 0:c.order)?{item:null===(l=_.current)||void 0===l?void 0:null===(d=l.sort)||void 0===d?void 0:d.item,order:null===(f=_.current)||void 0===f?void 0:null===(m=f.sort)||void 0===m?void 0:m.order}:k;_.current.setSort(p)}},[b,x]),{initialData:(0,o.Z)((0,i.Z)({},b),{newFilters:(null==x?void 0:x.length)>0?x:void 0,limit:(null===(d=_.current)||void 0===d?void 0:d.pageSize)==="Infinity"?null:parseInt(null===(f=_.current)||void 0===f?void 0:f.pageSize,10)||s.C1.paginationSize,offset:((null===(m=_.current)||void 0===m?void 0:m.currentPage)-1||0)*((null===(p=_.current)||void 0===p?void 0:p.pageSize)||s.C1.paginationSize),orderBy:(0,c.c)(null===(h=_.current)||void 0===h?void 0:null===(v=h.sort)||void 0===v?void 0:null===(g=v.item)||void 0===g?void 0:g.replace(/ORDER/i,null===(y=_.current)||void 0===y?void 0:y.sort.order))||k}),initialSort:$,ref:_}}},50108:function(n,e,t){"use strict";function r(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return new Intl.NumberFormat(["en-GB"],{currency:e,currencyDisplay:"symbol",style:"currency"}).format(n)}t.d(e,{T:function(){return r}})},59577:function(n,e,t){"use strict";t.d(e,{c:function(){return r}});var r=function(n){try{return JSON.parse(n)}catch(e){return!1}}},67797:function(n,e,t){"use strict";t.d(e,{d:function(){return a}});var r=t(85893),i=t(11994),o=t(67294);function a(){var n=(0,o.useState)(null),e=n[0],t=n[1],a=(0,o.useCallback)(function(){t(null)},[]),u=(0,o.useMemo)(function(){if(null===e)return null;var n=e.content,t=e.keepMounted;return(0,r.jsx)(i.Z,{open:!0,keepMounted:t,onClose:a,children:n})},[e,a]),s=(0,o.useCallback)(function(n){var e=n.content,r=n.keepMounted;t({keepMounted:void 0===r||r,content:e({onClose:a})})},[a]);return[u,s]}},45307:function(n,e,t){"use strict";t.d(e,{X:function(){return p}});var r=t(14924),i=t(82670),o=t(828),a=t(7297),u=t(67294),s=t(6812),c=t(50319),l=t(75063),d=t(53767);function f(){var n=(0,a.Z)(["\n  query GetAccountUserFilters($accountUserId: Int!) {\n    accountUser: Account_User_by_pk(id: $accountUserId) {\n      filters\n    }\n  }\n"]);return f=function(){return n},n}function m(){var n=(0,a.Z)(["\n  mutation SetAccountUserFilters($accountUserId: Int!, $filters: jsonb) {\n    update_Account_User_by_pk(pk_columns: { id: $accountUserId }, _append: { filters: $filters }) {\n      id\n    }\n  }\n"]);return m=function(){return n},n}function p(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage",a=(0,d.q)().user,l=(0,u.useState)(function(){try{switch(t){case"network":case"state":return e;case"sessionStorage":return JSON.parse(window.sessionStorage.getItem(n))||e}}catch(r){return e}}),f=l[0],m=l[1],p=function(e){try{var o=(0,i.Z)(e,Function)?e(f):e;switch(m(o),t){case"network":g({variables:{accountUserId:null==a?void 0:a.accountUserId,filters:(0,r.Z)({},n,o)}});break;case"sessionStorage":window.sessionStorage.setItem(n,JSON.stringify(o))}}catch(u){}};(0,s.a)(h,{variables:{accountUserId:null==a?void 0:a.accountUserId},skip:"network"!==t,onCompleted:function(t){var r=t.accountUser;r&&m(r.filters[n]||e)}});var g=(0,o.Z)((0,c.D)(v),1)[0];return[f,p]}var h=(0,l.Ps)(f()),v=(0,l.Ps)(m())},98521:function(n,e,t){"use strict";t.d(e,{O:function(){return r},v:function(){return i}});var r=[{text:"Country",value:""},{text:"United Kingdom",value:1},{text:"Ireland",value:4}],i=[{label:"United Kingdom",value:1},{label:"Ireland",value:4}]},56971:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return v}});var r=t(85893),i=t(26042),o=t(69396),a=t(5616),u=t(67294),s=t(86574),c=t(83336),l=t(86858),d=t(53371),f=function(){var n=(0,u.useState)(0),e=n[0],t=n[1],f=function(n,e){t(e)};return(0,r.jsxs)(a.Z,{sx:{width:"100%",height:"100%"},children:[(0,r.jsx)(a.Z,{children:(0,r.jsxs)(c.m,{value:e,onChange:f,children:[(0,r.jsx)(s.O,{label:"Customer"}),(0,r.jsx)(s.O,{label:"Supplier"})]})}),(0,r.jsx)(l.x,(0,o.Z)((0,i.Z)({value:e,index:0},m),{children:(0,r.jsx)(d.J,{initialFilters:{filterType:"system_customer"},entity:"System-Customer"})})),(0,r.jsx)(l.x,(0,o.Z)((0,i.Z)({value:e,index:1},m),{children:(0,r.jsx)(d.J,{initialFilters:{filterType:"system_supplier"},entity:"System-Supplier"})}))]})},m={sx:{height:"calc(100% - 32px)"},boxSx:{height:"100%"}},p=t(24716),h=function(){return(0,r.jsx)(f,{})};h.getLayout=function(n){return(0,r.jsxs)(p.Z,{children:[n," "]})};var v=h}},function(n){n.O(0,[3662,2283,212,8890,9511,2583,6310,4599,4135,8579,4244,3776,2329,778,1023,3911,9957,1870,8062,2429,5497,1121,1026,4716,825,6257,9774,2888,179],function(){return n(n.s=6553)}),_N_E=n.O()}]);