(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1398],{93055:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/new-password",function(){return t(13091)}])},13091:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var r,s=t(47568),a=t(97582),o=t(85893),u=t(67294),i=t(11163),c=t.n(i),l=t(9669),d=t.n(l),p=t(98209),m=t(73987),h=t(17813),w=t(9270),f=t(62140),g=t(15214),v=t(51174),Z=t(45697),b=t(31417),k=t(79665),E=t(41644),_=(0,E.Ry)().shape({password:(0,E.Z_)().required("Please Enter a password").min(8,"Password is too short - should be 8 chars minimum.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/,"Must contain 8 characters, with at least one uppercase letter, number and special character")}),x=t(10367),y=t(77439),P=t(76600),S=t(55563),j=t(49501),I=t(97303),N=t(35599),T=function(e){var n,t=e.pathLogIn,r=e.submit,s=(0,b.cI)({resolver:(0,k.S)(_)}),a=s.errors,o=s.handleSubmit,i=s.register;return u.createElement(u.Fragment,null,u.createElement(N.Z,{center:!0,heading:"Set New Password",divider:!1}),(null==a?void 0:null===(n=a.password)||void 0===n?void 0:n.message)&&u.createElement(g.Z,{content:a.password.message,context:"warning"}),u.createElement(P.Z,{handleSubmit:o(r)},u.createElement(j.Z,{label:"Password"},u.createElement(S.Z,{errors:a,name:"password",register:i,type:"password"})),u.createElement(y.Z,{block:!0,content:"Submit",size:"lg",type:"submit"}),u.createElement(I.Z,{to:t,passHref:!0},u.createElement(L,null,"Back to Log In"))))},L=x.ZP.span(r||(r=(0,v.Z)(["\n  display: block;\n  margin: 1rem 0 0 0;\n"])));T.propTypes={pathLogIn:Z.string,submit:Z.func},T.defaultProps={pathLogIn:"/account/sign-in"};var z=function(){var e,n=(0,u.useContext)(m.Z).signOut,t=(0,i.useRouter)().query,r=(0,u.useState)(null),l=r[0],v=r[1];(0,u.useEffect)(function(){var e;n(),t.token&&(e=t.token,!/^[a-z0-9-]{36}$/gi.test(e))&&v("Token not valid")},[t.token]);var Z=(e=(0,s.Z)(function(e){var n,r,s,o,u;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,d().post("".concat(p.dV.authURL,"/reset-password"),{token:t.token,password:e.password})];case 1:return(null==(n=a.sent().data)?void 0:n.token)?(window.localStorage.setItem("bearerToken",n.token),c().push("/")):c().push("/account/sign-in"),[3,3];case 2:return v((null==(r=a.sent())?void 0:null===(s=r.response)||void 0===s?void 0:null===(o=s.data)||void 0===o?void 0:o.error)||"An error occurred"),[3,3];case 3:return[2]}})}),function(n){return e.apply(this,arguments)});return(0,o.jsx)(h.Z,{heading:"Set new password",children:(0,o.jsxs)(w.Z,{children:[l&&(0,o.jsx)(f.Z,{md:6,offset:{md:3},style:{marginTop:"20px"},children:(0,o.jsx)(g.Z,{content:l,context:"warning"})}),!l&&(0,o.jsx)(f.Z,{md:6,offset:{md:3},style:{background:"white"},children:(0,o.jsx)(T,{submit:Z})})]})})}}},function(e){e.O(0,[9511,7645,1417,8365,6591,9774,2888,179],function(){return e(e.s=93055)}),_N_E=e.O()}]);