"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6937,7493],{21830:function(n,e,t){t.d(e,{C:function(){return P}});var r=t(85893),i=t(67294),o=t(45697),a=t.n(o),u=t(93946),s=t(25464),c=t(18972),l=t(57976),d=t(73890),m=t(69008),f=t(41687),g=t(60888),p=t(40535),y=t(63441),h=t(41733),v=t(77957),$=t(2548),_=t(24519),b=t(2391),I=t(69308),x=t(79369),q=t(22961),Z=t(28201),S=t(51233),j=t(15861),T={add:(0,r.jsx)(f.Z,{}),archive:(0,r.jsx)(d.Z,{}),avatar:(0,r.jsx)(Z.Z,{}),check:(0,r.jsx)(g.Z,{}),delete:(0,r.jsx)(h.Z,{}),description:(0,r.jsx)(p.Z,{}),download:(0,r.jsx)(y.Z,{}),info:(0,r.jsx)($.Z,{}),edit:(0,r.jsx)(v.Z,{}),location:(0,r.jsx)(I.Z,{}),unarchive:(0,r.jsx)(m.Z,{}),uploadFile:(0,r.jsx)(_.Z,{}),receipt:(0,r.jsx)(b.Z,{}),visibility:(0,r.jsx)(q.Z,{})},C={default:(0,r.jsx)(l.Z,{}),defaultHoriz:(0,r.jsx)(x.Z,{}),description:(0,r.jsx)(p.Z,{})},P=function(n){var e=n.actionsData,t=n.icon,o=n.row,a=n.disabled,l=(0,i.useState)(null),d=l[0],m=l[1],f=function(n){n.stopPropagation(),m(n.currentTarget)},g=function(){m(null)};return(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Z,{sx:{":hover":{backgroundColor:"#DDDDDD"}},disabled:a,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:f,children:C[t]}),(0,r.jsx)(s.Z,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:g,PaperProps:{sx:{borderRadius:2}},children:e(o).map(function(n,e){return(0,r.jsx)(c.Z,{disabled:n.disabled,onClick:function(e){n.onClick(e),g()},sx:{pl:3,pr:4},children:(0,r.jsxs)(S.Z,{direction:"row",alignItems:"center",spacing:2,children:[(null==T?void 0:T[n.icon])||null,(0,r.jsx)(j.Z,{children:n.tooltip})]})},e)})})]})};P.propTypes={actionsData:a().func.isRequired,icon:a().oneOf(["default","description"]),row:a().any.isRequired,disabled:a().bool},P.defaultProps={actionsData:function(){return[{disabled:!1,onClick:function(){},icon:"edit",tooltip:"Edit"}]},icon:"default",disabled:!1}},57493:function(n,e,t){t.d(e,{A5:function(){return nu},Ak:function(){return B},Cj:function(){return K},K4:function(){return nr},Oq:function(){return na},Qn:function(){return L},RJ:function(){return J},SW:function(){return R},T_:function(){return Q},UH:function(){return A},UM:function(){return ne},Ve:function(){return X},_d:function(){return z},_f:function(){return nt},by:function(){return V},cz:function(){return M},he:function(){return U},j$:function(){return H},kB:function(){return Y},kx:function(){return O},nD:function(){return E},nP:function(){return no},pY:function(){return ni},qd:function(){return D},t1:function(){return N},yR:function(){return W},zR:function(){return nn}});var r=t(7297),i=t(75063);function o(){var n=(0,r.Z)(["\n  query GetAddressForSelect($q: String, $entity: String!, $entityId: Int!) {\n    items: Address(\n      where: {\n        Address_Entities: { entity: { _eq: $entity }, entityId: { _eq: $entityId } }\n        _or: [\n          { addressLine1: { _eq: $q } }\n          { addressLine2: { _eq: $q } }\n          { addressLine3: { _eq: $q } }\n          { county: { _eq: $q } }\n          { postCode: { _eq: $q } }\n          { city: { _eq: $q } }\n        ]\n      }\n    ) {\n      label: addressLine1\n      value: id\n      id\n      name\n      addressLine1\n      addressLine2\n      addressLine3\n      postCode\n      county\n      country: Country {\n        name\n      }\n      city\n      Address_Entities {\n        invoice\n      }\n    }\n  }\n"]);return o=function(){return n},n}function a(){var n=(0,r.Z)(["\n  query GetAccountsForSelect($q: String, $type: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: $type } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]);return a=function(){return n},n}function u(){var n=(0,r.Z)(['\n  query GetTaxonomy($q: String, $id: Int) {\n    items: Taxonomy(\n      where: { type: { _eq: "assetCategory" }, status: { _eq: "active" } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      options: Taxonomies(\n        where: {\n          type: { _eq: "assetCategory" }\n          name: { _ilike: $q }\n          id: { _eq: $id }\n          status: { _eq: "active" }\n        }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']);return u=function(){return n},n}function s(){var n=(0,r.Z)(["\n  query GetAssetsForSelect(\n    $locationId: Int\n    $q: String\n    $categoryId: Int\n    $bookable: String\n    $limit: Int\n    $offset: Int\n  ) {\n    items: Asset(\n      where: {\n        categoryId: { _eq: $categoryId }\n        locationId: { _eq: $locationId }\n        name: { _ilike: $q }\n        bookable: { _eq: $bookable }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n      sublocation: Sublocation {\n        name\n      }\n    }\n  }\n"]);return s=function(){return n},n}function c(){var n=(0,r.Z)(['\n  query GetCustomersForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Account(\n      where: { name: { _ilike: $q }, type: { _eq: "customer" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      admin: Admins {\n        id: adminId\n      }\n      label: name\n      spendThreshold: meta(path: "$.finance.spendThreshold")\n      serviceRateLabour: meta(path: "$.finance.serviceRateLabour")\n      serviceRateExpenses: meta(path: "$.finance.serviceRateExpenses")\n      value: id\n    }\n  }\n']);return c=function(){return n},n}function l(){var n=(0,r.Z)(["\n  query GetJobsForSelect($_q: Int, $locationId: Int) {\n    items: Job(\n      where: {\n        Location: { id: { _eq: $locationId } }\n        _or: [{ id: { _eq: $_q } }, { Invoices: { id: { _eq: $_q } } }]\n      }\n      order_by: { title: asc }\n    ) {\n      label: label\n      value: id\n      number\n      createdAt\n      description\n      status\n      timingStart\n      title\n      type\n      Location {\n        name\n      }\n      Taxonomy {\n        Taxonomy {\n          shortJobDescription: name\n        }\n      }\n    }\n  }\n"]);return l=function(){return n},n}function d(){var n=(0,r.Z)(['\n  query GetManagersForSelect($userId: Int, $accountId: Int!, $q: String) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          role: { _in: ["owner", "manager"] }\n          status: { _eq: "active" }\n          Account: { id: { _eq: $accountId } }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        id: { _neq: $userId }\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']);return d=function(){return n},n}function m(){var n=(0,r.Z)(['\n  query GetManagersForSelect(\n    $userId: Int\n    $accountId: Int!\n    $q: String\n    $invoiceThreshold: numeric\n    $quoteThreshold: numeric\n  ) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          role: { _in: ["owner", "manager"] }\n          status: { _eq: "active" }\n          Account: { id: { _eq: $accountId } }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        id: { _neq: $userId }\n        _and: [\n          {\n            _or: [\n              { invoiceThreshold: { _gt: $invoiceThreshold } }\n              { invoiceThreshold: { _is_null: true } }\n            ]\n          }\n          {\n            _or: [\n              { quoteThreshold: { _gt: $quoteThreshold } }\n              { quoteThreshold: { _is_null: true } }\n            ]\n          }\n        ]\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']);return m=function(){return n},n}function f(){var n=(0,r.Z)(["\n  query GetPostCodeAreaForSelect($countryId: Int, $q: String) {\n    items: PostcodeArea(\n      where: { name: { _ilike: $q }, countryId: { _eq: $countryId } }\n      order_by: { name: asc }\n    ) {\n      area\n      label: name\n      value: id\n    }\n  }\n"]);return f=function(){return n},n}function g(){var n=(0,r.Z)(['\n  query GetPropertiesForSelect($where: Location_bool_exp, $limit: Int, $offset: Int) {\n    items: Location(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      label: name\n      value: id\n      access\n      permitsRequired\n      registeredAddress: Addresses(\n        where: { entity: { _eq: "Location" }, registered: { _eq: true } }\n      ) {\n        address: Address {\n          id\n          addressLine1\n          addressLine2\n          addressLine3\n          county\n          country: Country {\n            name\n          }\n          postCode\n          city\n        }\n      }\n    }\n  }\n']);return g=function(){return n},n}function p(){var n=(0,r.Z)(['\n  query GetServicesForSelect($q: String, $limit: Int, $offset: Int) {\n    items: Service(\n      where: { name: { _ilike: $q }, status: { _eq: "active" } }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']);return p=function(){return n},n}function y(){var n=(0,r.Z)(["\n  query GetSlasForSelect($q: String, $adminId: Int, $type: String, $subtype: sla_subtype) {\n    items: SLA(\n      where: {\n        name: { _ilike: $q }\n        type: { _eq: $type }\n        adminId: { _eq: $adminId }\n        subtype: { _eq: $subtype }\n      }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]);return y=function(){return n},n}function h(){var n=(0,r.Z)(["\n  query GetSlasForSelectNew($where: SLA_bool_exp, $limit: Int, $offset: Int) {\n    items: SLA(where: $where, order_by: { name: asc }, limit: $limit, offset: $offset) {\n      label: name\n      value: id\n    }\n  }\n"]);return h=function(){return n},n}function v(){var n=(0,r.Z)(["\n  query GetSuppliersForSelect($where: Account_bool_exp, $limit: Int, $offset: Int) {\n    items: Account(where: $where, limit: $limit, offset: $offset, order_by: { name: asc }) {\n      label: name\n      value: id\n    }\n  }\n"]);return v=function(){return n},n}function $(){var n=(0,r.Z)(['\n  query GetUsersForSelect($accountId: Int, $q: String, $limit: Int, $offset: Int) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: {\n          accountId: { _eq: $accountId }\n          isContact: { _eq: true }\n          status: { _eq: "active" }\n        }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      order_by: { nameFirst: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      label: fullName\n      value: id\n      email\n      phone\n    }\n  }\n']);return $=function(){return n},n}function _(){var n=(0,r.Z)(['\n  query GetUsersForSelect($q: String) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n      email\n      phone\n    }\n  }\n']);return _=function(){return n},n}function b(){var n=(0,r.Z)(["\n  query GetTaxonomyGroupForSelect($q: String, $type: String!) {\n    items: Taxonomy(\n      where: { isGroup: { _eq: true }, name: { _ilike: $q }, type: { _eq: $type } }\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]);return b=function(){return n},n}function I(){var n=(0,r.Z)(['\n  query GetTaxonomy($q: String) {\n    items: Taxonomy(where: { type: { _eq: "expenseCategoryGroup" } }, order_by: { name: asc }) {\n      label: name\n      options: Taxonomies(\n        where: { type: { _eq: "expenseCategory" }, name: { _ilike: $q } }\n        order_by: { name: asc }\n      ) {\n        value: id\n        label: name\n      }\n    }\n  }\n']);return I=function(){return n},n}function x(){var n=(0,r.Z)(["\n  query GetUserRole($userId: Int!, $accountId: Int!) {\n    accountUsers: Account_User(\n      where: { userId: { _eq: $userId }, accountId: { _eq: $accountId } }\n    ) {\n      role\n    }\n  }\n"]);return x=function(){return n},n}function q(){var n=(0,r.Z)(["\n  query GetSublocationsForSelect($locationId: Int!, $q: String, $limit: Int, $offset: Int) {\n    items: Sublocation(\n      where: { name: { _ilike: $q }, locationId: { _eq: $locationId }, active: { _eq: true } }\n      limit: $limit\n      offset: $offset\n      order_by: { createdAt: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n"]);return q=function(){return n},n}function Z(){var n=(0,r.Z)(['\n  query GetTaxonomy($q: String, $limit: Int, $offset: Int) {\n    items: Taxonomy(\n      where: {\n        type: { _eq: "assetCategory" }\n        isGroup: { _eq: false }\n        status: { _eq: "active" }\n        name: { _ilike: $q }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n']);return Z=function(){return n},n}function S(){var n=(0,r.Z)(["\n  query GetTaxonomyForSelect(\n    $where: Taxonomy_bool_exp\n    $limit: Int\n    $offset: Int\n    $orderBy: Taxonomy_order_by!\n    $includeMeta: Boolean! = false\n  ) {\n    items: Taxonomy(where: $where, limit: $limit, offset: $offset, order_by: [$orderBy]) {\n      value: id\n      label: name\n      meta @include(if: $includeMeta)\n    }\n  }\n"]);return S=function(){return n},n}function j(){var n=(0,r.Z)(['\n  query GetTagsForTask($q: String!, $limit: Int = 50, $offset: Int = 0) {\n    items: Taxonomy(\n      where: { name: { _ilike: $q }, status: { _eq: "active" }, type: { _eq: "taskTags" } }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n']);return j=function(){return n},n}function T(){var n=(0,r.Z)(['\n  query GetTagsForEntity(\n    $entityId: Int\n    $entity: String!\n    $q: String!\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    tags: Taxonomy(\n      where: {\n        name: { _ilike: $q }\n        status: { _eq: "active" }\n        type: { _eq: "taskTags" }\n        _not: { Taxonomy_Entities: { entity: { _eq: $entity }, entityId: { _eq: $entityId } } }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']);return T=function(){return n},n}function C(){var n=(0,r.Z)(['\n  query GetEntityTags($entityId: Int!, $entity: String!) {\n    tags: Taxonomy_Entity(\n      where: {\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n        Taxonomy: { status: { _eq: "active" }, type: { _eq: "taskTags" } }\n      }\n      order_by: { id: desc }\n    ) {\n      id\n      tag: Taxonomy {\n        id\n        name\n        meta\n      }\n    }\n  }\n']);return C=function(){return n},n}function P(){var n=(0,r.Z)(["\n  query GetCustomerManagers($accountId: Int, $q: String, $limit: Int, $offset: Int) {\n    items: User(\n      where: { Account_Users: { accountId: { _eq: $accountId } }, fullName: { _ilike: $q } }\n      order_by: { fullName: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n"]);return P=function(){return n},n}function w(){var n=(0,r.Z)(["\n  query GetServiceSchedulesForSelect(\n    $q: String\n    $serviceId: Int\n    $entity: service_schedule_entity\n    $entityId: Int\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    items: ServiceSchedule(\n      where: {\n        name: { _ilike: $q }\n        serviceId: { _eq: $serviceId }\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { name: asc }\n    ) {\n      label: name\n      value: id\n    }\n  }\n"]);return w=function(){return n},n}function k(){var n=(0,r.Z)(['\n  query GetPropertyById($id: Int!) {\n    item: Location_by_pk(id: $id) {\n      label: name\n      value: id\n      access\n      registeredAddress: Addresses(\n        where: { entity: { _eq: "Location" }, registered: { _eq: true } }\n      ) {\n        address: Address {\n          id\n          addressLine1\n          addressLine2\n          addressLine3\n          county\n          country: Country {\n            name\n            code\n          }\n          postCode\n          city\n        }\n      }\n    }\n  }\n']);return k=function(){return n},n}function F(){var n=(0,r.Z)(["\n  query GetCompliancesForSelectNew($q: String, $locationId: Int, $limit: Int, $offset: Int) {\n    items: Compliance(\n      where: { name: { _ilike: $q }, locationId: { _eq: $locationId } }\n      order_by: { name: asc }\n      limit: $limit\n      offset: $offset\n    ) {\n      value: id\n      label: name\n      category: ComplianceCategory {\n        label: name\n      }\n    }\n  }\n"]);return F=function(){return n},n}function G(){var n=(0,r.Z)(['\n  query GetTaskAssignedToForSelect(\n    $accountId: Int\n    $q: String\n    $limit: Int = 50\n    $offset: Int = 0\n  ) {\n    items: User(\n      where: {\n        status: { _eq: "active" }\n        Account_Users: { accountId: { _eq: $accountId }, status: { _eq: "active" } }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n      }\n      limit: $limit\n      offset: $offset\n      order_by: { nameFirst: asc }\n    ) {\n      label: fullName\n      value: id\n    }\n  }\n']);return G=function(){return n},n}var M=(0,i.Ps)(o()),D=(0,i.Ps)(a()),E=(0,i.Ps)(u()),A=(0,i.Ps)(s()),R=(0,i.Ps)(c()),L=(0,i.Ps)(l()),U=(0,i.Ps)(d()),B=(0,i.Ps)(m()),H=(0,i.Ps)(f()),z=(0,i.Ps)(g()),O=(0,i.Ps)(p()),N=(0,i.Ps)(y()),Q=(0,i.Ps)(h()),V=(0,i.Ps)(v()),W=(0,i.Ps)($()),J=(0,i.Ps)(_()),K=(0,i.Ps)(b()),X=(0,i.Ps)(I()),Y=(0,i.Ps)(x()),nn=(0,i.Ps)(q()),ne=(0,i.Ps)(Z()),nt=(0,i.Ps)(S());(0,i.Ps)(j()),(0,i.Ps)(T()),(0,i.Ps)(C());var nr=(0,i.Ps)(P()),ni=(0,i.Ps)(w()),no=(0,i.Ps)(k()),na=(0,i.Ps)(F()),nu=(0,i.Ps)(G())},45451:function(n,e,t){t.d(e,{i:function(){return Z}});var r=t(14924),i=t(26042),o=t(69396),a=t(85893),u=t(67294),s=t(11163),c=t(45697),l=t.n(c),d=t(61870),m=t(5616),f=t(51233),g=t(15861),p=t(90948),y=t(41796),h=t(29217),v=t(45111),$=t(98209),_=t(70872),b=t(58886),I=t(61730),x=function(n){var e=n.currentPage,t=n.totalCount,r=n.pageSize,o=n.onPageChange,u=(0,I.Z)("(max-width:400px)"),s=(0,I.Z)("(max-width:500px)");return(0,a.jsx)(q,{mb:2,page:e,count:Math.ceil(t/r),onChange:function(n,e){return o(e)},variant:"outlined",shape:"rounded",size:u?"small":"medium",hidePrevButton:1===e,hideNextButton:e===Math.ceil(t/r),siblingCount:s?0:1,renderItem:function(n){return(0,a.jsx)(b.Z,(0,i.Z)({slots:{previous:function(){return"Previous"},next:function(){return"Next"}}},n))}})};x.defaultProps={currentPage:1,totalCount:0,pageSize:50,onPageChange:function(){}},x.propTypes={currentPage:l().number,totalCount:l().number,pageSize:l().number,onPageChange:l().func};var q=(0,p.ZP)(_.Z)(function(n){var e,t=n.hidePrevButton,o=n.hideNextButton,a=n.theme;return e={},(0,r.Z)(e,"&.MuiPagination-root",{alignSelf:"center",marginTop:"16px"}),(0,r.Z)(e,"& .MuiPaginationItem-root",{fontWeight:600,margin:0,borderRadius:0}),(0,r.Z)(e,"& .MuiPagination-ul > li:last-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"0 5px 5px 0"}),(0,r.Z)(e,"& .MuiPagination-ul > li:first-child .MuiPaginationItem-previousNext:last-child",{margin:0,borderRadius:"5px 0 0 5px"}),(0,r.Z)(e,"& button.Mui-selected",(0,i.Z)({color:a.palette.white.main,backgroundColor:a.palette.secondary.main},o?{borderRadius:"0 5px 5px 0"}:{},t?{borderRadius:"5px 0 0 5px"}:{})),e}),Z=(0,u.forwardRef)(function(n,e){var t=n.columns,r=n.history,o=n.initialSort,c=n.meta,l=n.refetch,d=n.paginationSize,m=n.containerHeight,p=n.containerMaxHeight,y=n.noResultsMessage,_=n.autoHeight,b=(0,s.useRouter)(),I=b.query,q=void 0===I?{}:I,Z=(0,u.useState)(parseInt(null==q?void 0:q.page,10)||1),T=Z[0],C=Z[1],P=(0,u.useState)(d||$.C1.paginationSize),w=P[0],k=P[1],F=o;F||(F={item:"createdAt",order:"desc"});var G=(0,u.useState)({item:F.item,order:F.order}),M=G[0],D=G[1],E=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=b.query,t=void 0===e?{}:e;if(n>1?t.page=n:delete t.page,!(Object.keys(t).length>0))return{};var r=Object.keys(t).map(function(e){return"page"===e?"".concat(e,"=").concat(n):"".concat(e,"=").concat(t[e])}).join("&");return"?".concat(r)},A=function(){D({item:F.item,order:F.order}),C(1);var n=E();b.push(n),k(d||$.C1.paginationSize)};(0,u.useImperativeHandle)(e,function(){return{currentPage:T,pageSize:w,sort:M,resetPagination:function(){A()}}});var R=function(n){var e=E(n);r&&b.push(e),C(n),!r&&l&&l()},L=function(n){n&&n.field&&n.sort?(D({item:t.find(function(e){return e.field===n.field}).sortName||n.field||n.item||F.item,order:n.sort||n.order||F.order}),l&&l()):(D({item:F.item,order:F.order}),l&&l())};return(0,a.jsxs)(S,{containerHeight:m,containerMaxHeight:p,children:[(0,a.jsx)(j,(0,i.Z)({hideFooter:!0,disableColumnMenu:!0,disableSelectionOnClick:!0,autoHeight:_,sortingMode:"server",onSortModelChange:function(n){return L(n[0])},columns:t,pageSize:w,slots:{columnSortedAscendingIcon:function(){return(0,a.jsx)(h.Z,{})},columnSortedDescendingIcon:function(){return(0,a.jsx)(v.Z,{})},columnUnsortedIcon:function(){return(0,a.jsxs)(f.Z,{alignItems:"center",sx:{width:"33px"},children:[(0,a.jsx)(h.Z,{sx:{marginBottom:"-15px"}}),(0,a.jsx)(v.Z,{})]})},noResultsOverlay:function(){return(0,a.jsx)(f.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,a.jsx)(g.Z,{children:y})})},noRowsOverlay:function(){return(0,a.jsx)(f.Z,{height:"100%",alignItems:"center",justifyContent:"center",spacing:1,p:1,children:(0,a.jsx)(g.Z,{children:y})})}}},n)),c&&Math.ceil(c.aggregate.totalCount/w)>1&&(0,a.jsx)(x,{currentPage:T,totalCount:c.aggregate.totalCount,pageSize:w,onPageChange:R})]})});Z.propTypes={history:l().bool,initialSort:l().object,loading:l().bool,meta:l().object,refetch:l().func,paginationSize:l().number,noResultsMessage:l().string,columns:l().array.isRequired,rows:l().array.isRequired,autoHeight:l().bool},Z.defaultProps={columns:[],history:!1,loading:!1,rows:[],noResultsMessage:"There are no results.",autoHeight:!0};var S=(0,p.ZP)(m.Z)(function(n){var e;return{height:n.containerHeight,maxHeight:n.containerMaxHeight,display:"flex",flexDirection:"column"}}),j=(0,p.ZP)(d.s)(function(n){var e,t=n.theme,a=n.hideHeader,u=(n.rows,n.loading,n.rowHeight),s=n.isPdf;return e={"--DataGrid-overlayHeight":"40px"},(0,r.Z)(e,"&.MuiDataGrid-root",(0,i.Z)({color:t.palette.black.main,border:"none"},s&&{"@media print":{display:"block"}})),(0,r.Z)(e,"& .MuiDataGrid-main",(0,i.Z)({},s&&{"@media print":{overflow:"visible !important"}})),(0,r.Z)(e,"& .MuiDataGrid-columnHeaders",(0,o.Z)((0,i.Z)({},a&&{display:"none"}),{"& .MuiDataGrid-iconButtonContainer":{visibility:"visible","& .MuiButtonBase-root.MuiIconButton-root":{backgroundColor:"inherit",color:t.palette.black.main,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}}}})),(0,r.Z)(e,"& .MuiDataGrid-virtualScroller",(0,i.Z)({},a&&{marginTop:"0 !important"},s&&{"@media print":{overflow:"visible !important"}})),(0,r.Z)(e,"& .MuiDataGrid-iconSeparator",{opacity:0}),(0,r.Z)(e,"& .MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,r.Z)(e,"& .MuiButtonBase-root.MuiDataGrid-columnHeaderTitle",{fontWeight:700}),(0,r.Z)(e,"& .MuiDataGrid-virtualScrollerContent",(0,i.Z)({},s&&{height:"initial !important",minHeight:"initial !important"})),(0,r.Z)(e,"& .MuiDataGrid-virtualScrollerRenderZone",(0,i.Z)({},s&&{position:"relative"})),(0,r.Z)(e,"& .MuiDataGrid-overlayWrapper",(0,r.Z)({},"& .MuiCircularProgress-root",{color:t.palette.secondary.main})),(0,r.Z)(e,"& .MuiDataGrid-row",(0,i.Z)({},s&&{minHeight:"".concat(u,"cm !important"),maxHeight:"".concat(u,"cm !important")})),(0,r.Z)(e,"& .MuiDataGrid-row > .MuiDataGrid-cell",(0,i.Z)({},s&&{minHeight:"".concat(u,"cm !important"),maxHeight:"".concat(u,"cm !important")})),(0,r.Z)(e,"& .MuiDataGrid-columnHeaderCheckbox",(0,r.Z)({},"& .MuiButtonBase-root.MuiCheckbox-root > .MuiSvgIcon-root",(0,r.Z)({color:t.palette.secondary.main},'&[data-testid="CheckBoxOutlineBlankIcon"]',{color:"currentColor"}))),(0,r.Z)(e,"& .MuiDataGrid-row > .MuiDataGrid-cellCheckbox",(0,r.Z)({},"& .MuiButtonBase-root.MuiCheckbox-root > .MuiSvgIcon-root",(0,r.Z)({color:t.palette.secondary.main},'&[data-testid="CheckBoxOutlineBlankIcon"]',{color:"currentColor"}))),(0,r.Z)(e,"& .MuiDataGrid-row.even",{backgroundColor:t.palette.muiLightGray.main,"&:hover, &.Mui-hovered":{backgroundColor:(0,y.Fq)(t.palette.muiLightGray.main,.3),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,y.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,y.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,y.Fq)(t.palette.muiLightGray.main,.3+t.palette.action.selectedOpacity)}}}}),e})},74833:function(n,e,t){t.d(e,{V:function(){return d}});var r=t(26042),i=t(69396),o=t(85893),a=t(67294),u=t(45697),s=t.n(u),c=t(87918),l=t(41796),d=function(n){var e,t=n.chipProps,u=n.tagEntityId,s=n.name,d=n.color,m=n.onDelete,f=(0,a.useMemo)(function(){return m?(0,i.Z)((0,r.Z)({},t),{onDelete:function(n){n.stopPropagation(),m(u)}}):(0,r.Z)({},t)},[t,m,u]);return(0,o.jsx)(c.Z,(0,i.Z)((0,r.Z)({},f),{size:"small",label:s,sx:{fontSize:"11px",color:(e=d,(0,l.mi)(e,"#FFFFFF")>2.5?"#FFFFFF":"#000"),bgcolor:d,borderRadius:"0px 16px 16px 0px"}}))};d.defaultProps={chipProps:{},onDelete:null,color:"#f2f2f2"},d.propTypes={chipProps:s().object,tagEntityId:s().string.isRequired,name:s().string.isRequired,color:s().string.isRequired,onDelete:s().func.isRequired}},22428:function(n,e,t){t.d(e,{T:function(){return $}});var r=t(85893),i=t(45697),o=t.n(i),a=t(93946),u=t(97212),s=t(98619),c=t(59334),l=t(51233),d=t(50135),m=t(50594),f=t(40055),g=t(21830),p=t(10166),y=t(67294),h=t(42283),v=a.Z,$=function(n){var e=n.tagEntityId,t=n.tagId,i=n.name,o=n.color,a=n.editable,c=n.onDelete,p=n.onColorChange,$=n.onNameChange,b=(0,h.cI)({defaultValues:{name:i,color:o}}),I=b.register,x=b.handleSubmit,q=(0,y.useState)(null),Z=q[0],S=q[1],j=function(){return[{icon:"delete",onClick:function(n){n.stopPropagation(),c(e)},tooltip:"Remove"},{icon:"edit",onClick:function(n){n.stopPropagation(),S("rename")},tooltip:"Rename"},{icon:"visibility",onClick:function(n){n.stopPropagation(),S("changeColor")},tooltip:"Change color"}]},T=function(n){n.stopPropagation(),S(null)},C=function(n){p({tagId:t,color:n.color}),S(null)},P=function(n){$({tagId:t,name:n.name}),S(null)};return(0,r.jsx)(u.ZP,{disablePadding:!0,secondaryAction:!a||!Z&&(0,r.jsx)(g.C,{icon:"defaultHoriz",actionsData:j}),children:Z?({changeColor:function(){return(0,r.jsxs)(l.Z,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",pl:"16px",pr:"16px",children:[(0,r.jsx)("input",{name:"color",ref:I,type:"color",style:{padding:0,border:"none","background-color":"unset"}}),(0,r.jsxs)(l.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(v,{size:"small",color:"danger",onClick:T,children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(v,{size:"small",color:"success",onClick:x(C),children:(0,r.jsx)(f.Z,{})})]})]})},rename:function(){return(0,r.jsxs)(l.Z,{width:"100%",direction:"row",justifyContent:"space-between",alignItems:"center",pl:"16px",pr:"16px",children:[(0,r.jsx)(d.Z,{name:"name",inputRef:I,variant:"standard",color:"secondary"}),(0,r.jsxs)(l.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(v,{size:"small",color:"danger",onClick:T,children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(v,{size:"small",color:"success",onClick:x(P),children:(0,r.jsx)(f.Z,{})})]})]})}})[Z]():(0,r.jsx)(s.Z,{children:(0,r.jsx)(_,{primary:i,color:o})})},t)};$.defaultProps={onDelete:function(){},onColorChange:function(){},onNameChange:function(){},editable:!0},$.propTypes={tagEntityId:o().string.isRequired,tagId:o().string.isRequired,name:o().string.isRequired,color:o().string.isRequired,editable:o().bool,onDelete:o().func.isRequired,onColorChange:o().func.isRequired,onNameChange:o().func.isRequired};var _=(0,p.Z)(c.Z)(function(n){return n.theme,{"&.MuiListItemText-root .MuiListItemText-primary":{fontWeight:700,color:n.color}}})},79928:function(n,e,t){t.d(e,{K:function(){return F}});var r=t(828),i=t(29815),o=t(85893),a=t(45697),u=t.n(a),s=t(50319),c=t(16380),l=t(26042),d=t(69396),m=t(67294),f=t(6812),g=t(11961),p=t(93362),y=t(23776),h=t(5616),v=t(98456),$=t(93946),_=t(78462),b=t(18972),I=t(14564),x=t(51233),q=t(50135),Z=t(22428),S=t(10166),j=t(74944),T=$.Z,C=(0,p.D)(),P=function(n){var e=n.entityId,t=(n.getTagsForEntityQuery,n.getTagsForEntityVariables,n.refetchQueries),a=n.entity,u=n.handleDeleteTagEntity,p=(0,j.x)().user,$=(0,m.useState)(null),I=$[0],S=$[1],P=(0,m.useState)(""),k=P[0],F=P[1],G=(0,m.useState)(""),M=G[0],D=G[1],E=(0,m.useState)(""),A=E[0],R=E[1],L=(0,f.a)(c.BU,{skip:!I,variables:{entityId:e,entity:a}}),U=L.data,B=(void 0===U?{tags:[]}:U).tags,H=L.loading,z=(0,f.a)(c.gI,{skip:!I,variables:{entityId:e,entity:a,q:""!==A?"%".concat(A,"%"):null}}),O=z.data,N=(void 0===O?{tags:[]}:O).tags,Q=z.loading,V=(0,r.Z)((0,s.D)(c.LE,{refetchQueries:["GetAllTags"].concat((0,i.Z)(t)),onCompleted:function(){D(""),F(null)}}),2),W=V[0],J=V[1].loading,K=(0,r.Z)((0,s.D)(c.g$,{refetchQueries:["GetAllTags"].concat((0,i.Z)(t))}),2),X=K[0],Y=K[1].loading;(0,m.useEffect)(function(){var n=setTimeout(function(){R(M)},500);return function(){return clearTimeout(n)}},[M]);var nn=function(n){n.stopPropagation(),S(n.currentTarget)},ne=function(){S(null)},nt=function(n,t){"string"==typeof t?F({label:t}):t&&t.inputValue?(W({variables:{objects:[{entity:a,entityId:e,Taxonomy:{data:{type:"tags",status:"active",name:t.inputValue,meta:{color:"#0679d8"},isGroup:!1,adminId:p.adminId}}}]}}),F(null)):t&&t.value&&(W({variables:{objects:[{entity:a,entityId:e,taxonomyId:t.value}]}}),F(null))},nr=function(n,e){var t=C(n,e),r=e.inputValue,i=n.some(function(n){return r===n.label});return""===r||i||t.push({inputValue:r,label:'Add "'.concat(r,'"')}),t},ni=function(n){return"string"==typeof n?n:n.inputValue?n.inputValue:n.label},no=function(n){var e;X({variables:{tagId:n.tagId,object:{meta:{color:n.color}}}})},na=function(n){var e;X({variables:{tagId:n.tagId,object:{name:n.name}}})},nu=Boolean(I),ns=null==N?void 0:N.map(function(n){return{label:n.name,value:n.id}});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(w,{id:nu?"tags-popover":void 0,open:nu,anchorEl:I,onClose:ne,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,o.jsxs)(h.Z,{sx:{maxHeight:"80vh",width:"280px",p:"10px",pt:"5px"},children:[(0,o.jsx)(y.Z,{freeSolo:!0,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:ns,value:k,onChange:nt,onInputChange:function(n,e){D(e)},filterOptions:nr,getOptionLabel:ni,renderOption:function(n,e){return(0,o.jsx)(b.Z,(0,d.Z)((0,l.Z)({},n),{children:e.label}))},renderInput:function(n){return(0,o.jsx)(q.Z,(0,d.Z)((0,l.Z)({},n),{variant:"standard",color:"secondary",label:"Search tag",InputProps:(0,d.Z)((0,l.Z)({},n.InputProps),{endAdornment:(0,o.jsxs)(o.Fragment,{children:[Q||J?(0,o.jsx)(v.Z,{color:"inherit",size:20}):null,n.InputProps.endAdornment]})})}))},sx:{pl:"16px",pr:"16px"}}),H||Y?(0,o.jsx)(x.Z,{width:"100%",alignItems:"center",p:4,children:(0,o.jsx)(v.Z,{color:"secondary"})}):(0,o.jsx)(_.Z,{children:B.map(function(n){var e;return(0,o.jsx)(Z.T,{tagEntityId:n.id,tagId:n.tag.id,name:n.tag.name,color:null===(e=n.tag.meta)||void 0===e?void 0:e.color,onDelete:u,onColorChange:no,onNameChange:na})})})]})}),(0,o.jsx)(T,{color:"black",onClick:nn,children:(0,o.jsx)(g.Z,{sx:{height:"16px",width:"16px"}})})]})};P.defaultProps={entityId:null,entity:null,refetchQueries:[],handleDeleteTagEntity:function(){}},P.propTypes={entityId:u().number,entity:u().string,getTagsForEntityQuery:u().object,getTagsForEntityVariables:u().object,refetchQueries:u().array,handleDeleteTagEntity:u().func};var w=(0,S.Z)(I.ZP)(function(n){return n.theme,{"& .MuiPaper-root":{borderRadius:"12px"}}}),k=t(71403),F=function(n){var e=n.row,t=n.refetchQueries,a=n.entity,u=(0,r.Z)((0,s.D)(c.cS,{refetchQueries:["GetTaskTags"].concat((0,i.Z)(t))}),1)[0],l=function(n){u({variables:{tagEntityId:n}})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.P,{tags:e.tags,title:e.title,handleDeleteTagEntity:l}),(0,o.jsx)(P,{entityId:e.id,refetchQueries:t,handleDeleteTagEntity:l,entity:a})]})};F.propTypes={row:u().object,refetchQueries:u().array},F.defaultProps={row:{},displayOnly:!1,refetchQueries:[],handleDeleteTagEntity:function(){}}},71403:function(n,e,t){t.d(e,{P:function(){return f}});var r=t(85893),i=t(67294),o=t(45697),a=t.n(o),u=t(15861),s=t(14564),c=t(78462),l=t(51233),d=t(74833),m=t(22428),f=function(n){var e=n.tags,t=n.handleDeleteTagEntity,o=(0,i.useState)(null),a=o[0],f=o[1],g=null==e?void 0:e.slice(0,5),p=(null==e?void 0:e.length)-(null==g?void 0:g.length),y=Boolean(a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{direction:"row",spacing:1,children:g.map(function(n,e){var i;return(0,r.jsx)(d.V,{tagEntityId:n.id||e,name:n.tag.name,color:null===(i=n.tag.meta)||void 0===i?void 0:i.color,onDelete:t})})}),p>0&&(0,r.jsxs)(u.Z,{fontWeight:700,ml:1,onMouseEnter:function(n){f(n.currentTarget),n.stopPropagation()},children:["+",p]}),(0,r.jsx)(s.ZP,{id:y?"tags-in-table-popover":void 0,open:y,anchorEl:a,onClose:function(){return f(null)},anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,r.jsx)(c.Z,{children:null==e?void 0:e.map(function(n){var e;return(0,r.jsx)(m.T,{tagEntityId:n.id,tagId:n.tag.id,name:n.tag.name,color:null===(e=n.tag.meta)||void 0===e?void 0:e.color,editable:!1},n.tag.id)})})})]})};f.propTypes={tags:a().object,title:a().string},f.defaultProps={tags:{},displayOnly:!1,refetchQueries:[],handleDeleteTagEntity:function(){}}},4585:function(n,e,t){t.d(e,{r:function(){return p}});var r=t(26042),i=t(69396),o=t(828),a=t(85893),u=t(67294),s=t(42283),c=t(73359),l=t(23776),d=t(98456),m=t(50135),f=t(87918),g=t(16380),p=function(n){var e=n.control,t=(0,u.useState)(""),p=t[0],y=t[1],h=(0,u.useState)(""),v=h[0],$=h[1],_=(0,o.Z)((0,c.t)(g.lx,{variables:{q:""!==v?"%".concat(v,"%"):null}}),2),b=_[0],I=_[1],x=I.loading,q=I.data,Z=(void 0===q?{items:[]}:q).items;return(0,u.useEffect)(function(){var n=setTimeout(function(){$(p)},500);return function(){return clearTimeout(n)}},[p]),(0,a.jsx)(s.Qr,{control:e,name:"tags",render:function(n){var e=n.value,t=n.onChange;return(0,a.jsx)(l.Z,{multiple:!0,limitTags:6,color:"secondary",onOpen:function(){return b()},options:Z,value:e||[],inputValue:p,onChange:function(n,e){t(e)},onInputChange:function(n,e){y(e)},getOptionLabel:function(n){return n.label},renderTags:function(n,e){return n.map(function(n,t){return(0,a.jsx)(f.Z,(0,r.Z)({size:"small",label:n.label},e({index:t})),t)})},renderInput:function(n){return(0,a.jsx)(m.Z,(0,i.Z)((0,r.Z)({},n),{variant:"standard",color:"secondary",label:"Select tags",InputProps:(0,i.Z)((0,r.Z)({},n.InputProps),{endAdornment:(0,a.jsxs)(a.Fragment,{children:[x?(0,a.jsx)(d.Z,{color:"inherit",size:20}):null,n.InputProps.endAdornment]})})}))}})}})}},16380:function(n,e,t){t.d(e,{Aw:function(){return I},BU:function(){return y},C3:function(){return b},LE:function(){return v},Zm:function(){return p},cS:function(){return $},g$:function(){return _},gI:function(){return g},lx:function(){return h}});var r=t(7297),i=t(75063);function o(){var n=(0,r.Z)(['\n  query GetTagsForEntity($q: String!, $limit: Int = 50, $offset: Int = 0) {\n    tags: Taxonomy(\n      where: { name: { _ilike: $q }, status: { _eq: "active" }, type: { _eq: "tags" } }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      id\n      name\n      meta\n    }\n  }\n']);return o=function(){return n},n}function a(){var n=(0,r.Z)(["\n  mutation CreateTag($objects: [Taxonomy_insert_input!]!) {\n    insert_Taxonomy(objects: $objects) {\n      returning {\n        id\n        name\n        meta\n      }\n    }\n  }\n"]);return a=function(){return n},n}function u(){var n=(0,r.Z)(['\n  query GetEntityTags($entityId: Int!, $entity: String!) {\n    tags: Taxonomy_Entity(\n      where: {\n        entity: { _eq: $entity }\n        entityId: { _eq: $entityId }\n        Taxonomy: { status: { _eq: "active" }, type: { _eq: "tags" } }\n      }\n      order_by: { id: desc }\n    ) {\n      id\n      tag: Taxonomy {\n        id\n        name\n        meta\n      }\n    }\n  }\n']);return u=function(){return n},n}function s(){var n=(0,r.Z)(['\n  query GetTagsForSelect($q: String, $limit: Int = 50, $offset: Int = 0) {\n    items: Taxonomy(\n      where: { name: { _ilike: $q }, status: { _eq: "active" }, type: { _eq: "tags" } }\n      limit: $limit\n      offset: $offset\n      order_by: { id: desc }\n    ) {\n      value: id\n      label: name\n    }\n  }\n']);return s=function(){return n},n}function c(){var n=(0,r.Z)(["\n  mutation CreateTagsAgainstEntity($objects: [Taxonomy_Entity_insert_input!]!) {\n    insert_Taxonomy_Entity(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return c=function(){return n},n}function l(){var n=(0,r.Z)(["\n  mutation DeleteTagAgainstEntity($tagEntityId: Int!) {\n    delete_Taxonomy_Entity_by_pk(id: $tagEntityId) {\n      id\n      taxonomyId\n    }\n  }\n"]);return l=function(){return n},n}function d(){var n=(0,r.Z)(["\n  mutation UpdateTagAgainstEntity($tagId: Int!, $object: Taxonomy_set_input!) {\n    update_Taxonomy_by_pk(pk_columns: { id: $tagId }, _set: $object) {\n      id\n      name\n      meta\n    }\n  }\n"]);return d=function(){return n},n}function m(){var n=(0,r.Z)(["\n  mutation CreateTagsAgainstEntityWithFollowing($objects: [Taxonomy_Entity_insert_input!]!) {\n    insert_Taxonomy_Entity(objects: $objects) {\n      returning {\n        id\n        taxonomyId\n      }\n    }\n  }\n"]);return m=function(){return n},n}function f(){var n=(0,r.Z)(["\n  mutation DeleteTagAgainstEntityWithFollowing($where: Taxonomy_Entity_bool_exp!) {\n    delete_Taxonomy_Entity(where: $where) {\n      returning {\n        id\n        taxonomyId\n      }\n    }\n  }\n"]);return f=function(){return n},n}var g=(0,i.Ps)(o()),p=(0,i.Ps)(a()),y=(0,i.Ps)(u()),h=(0,i.Ps)(s()),v=(0,i.Ps)(c()),$=(0,i.Ps)(l()),_=(0,i.Ps)(d()),b=(0,i.Ps)(m()),I=(0,i.Ps)(f())},45307:function(n,e,t){t.d(e,{X:function(){return g}});var r=t(14924),i=t(82670),o=t(828),a=t(7297),u=t(67294),s=t(6812),c=t(50319),l=t(75063),d=t(53767);function m(){var n=(0,a.Z)(["\n  query GetAccountUserFilters($accountUserId: Int!) {\n    accountUser: Account_User_by_pk(id: $accountUserId) {\n      filters\n    }\n  }\n"]);return m=function(){return n},n}function f(){var n=(0,a.Z)(["\n  mutation SetAccountUserFilters($accountUserId: Int!, $filters: jsonb) {\n    update_Account_User_by_pk(pk_columns: { id: $accountUserId }, _append: { filters: $filters }) {\n      id\n    }\n  }\n"]);return f=function(){return n},n}function g(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage",a=(0,d.q)().user,l=(0,u.useState)(function(){try{switch(t){case"network":case"state":return e;case"sessionStorage":return JSON.parse(window.sessionStorage.getItem(n))||e}}catch(r){return e}}),m=l[0],f=l[1],g=function(e){try{var o=(0,i.Z)(e,Function)?e(m):e;switch(f(o),t){case"network":h({variables:{accountUserId:null==a?void 0:a.accountUserId,filters:(0,r.Z)({},n,o)}});break;case"sessionStorage":window.sessionStorage.setItem(n,JSON.stringify(o))}}catch(u){}};(0,s.a)(p,{variables:{accountUserId:null==a?void 0:a.accountUserId},skip:"network"!==t,onCompleted:function(t){var r=t.accountUser;r&&f(r.filters[n]||e)}});var h=(0,o.Z)((0,c.D)(y),1)[0];return[m,g]}var p=(0,l.Ps)(m()),y=(0,l.Ps)(f())}}]);